<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="author" content="Adrian Mejia">
    <link rel="author" href="humans.txt" />
    <meta name="description" content="Adrian Mejia blog about programming and software engineering. Featuring MEAN stack (AngularJS, NodeJS, MongoDB and Express), BackboneJS, RESTful APIs, Algorithms and data structures.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <link rel="alternative" href="/atom.xml" title="Adrian Mejia Blog" type="application/atom+xml">

    
    <title>MEAN Stack Tutorial MongoDB ExpressJS AngularJS NodeJS (Part III) | Adrian Mejia Blog</title>

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="http://adrianmejia.com/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://adrianmejia.com/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://adrianmejia.com/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://adrianmejia.com/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="http://adrianmejia.com/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://adrianmejia.com/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://adrianmejia.com/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://adrianmejia.com/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="http://adrianmejia.com/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="http://adrianmejia.com/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="http://adrianmejia.com/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="http://adrianmejia.com/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="http://adrianmejia.com/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="Adrian Mejia's Blog"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="http://adrianmejia.com/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="http://adrianmejia.com/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="http://adrianmejia.com/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="http://adrianmejia.com/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="http://adrianmejia.com/mstile-310x310.png" />
    <meta name="msapplication-notification" content="frequency=30;polling-uri=http://notifications.buildmypinnedsite.com/?feed=http://adrianmejia.com/atom.xml&amp;id=1;polling-uri2=http://notifications.buildmypinnedsite.com/?feed=http://adrianmejia.com/atom.xml&amp;id=2;polling-uri3=http://notifications.buildmypinnedsite.com/?feed=http://adrianmejia.com/atom.xml&amp;id=3;polling-uri4=http://notifications.buildmypinnedsite.com/?feed=http://adrianmejia.com/atom.xml&amp;id=4;polling-uri5=http://notifications.buildmypinnedsite.com/?feed=http://adrianmejia.com/atom.xml&amp;id=5;cycle=1" />

    <link rel="canonical" href="http://adrianmejia.com/blog/2014/10/03/mean-stack-tutorial-mongodb-expressjs-angularjs-nodejs/" />
    <!-- Open Graph -->
    <meta property="og:url" content="http://adrianmejia.com/blog/2014/10/03/mean-stack-tutorial-mongodb-expressjs-angularjs-nodejs/" />
    <meta property="og:site_name" content="Adrian Mejia Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:description" content="We are going to build a full stack Todo App using the MEAN (MongoDB, ExpressJS, AngularJS and NodeJS). This is the last part of three-post series tutorial." />
    <meta property="og:image" content="http://adrianmejia.com/images/mean_large.png" />
    <meta property="og:title" content="MEAN Stack Tutorial MongoDB ExpressJS AngularJS NodeJS (Part III)" />
    <meta property="fb:app_id" content="761831487293468" />
    <meta property="fb:admins" content="895685163"/>
    <!-- /Open Graph -->

    <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-24183929-4', 'auto');
ga('send', 'pageview');
</script><script async defer src='https://www.google-analytics.com/analytics.js'></script>


    <!-- Critical Styles -->
    <style media="screen">
      .overlay { display: none }
    </style>
    <link rel="stylesheet" href="/stylesheets/main.css">
    <!-- loadDeferredStyles -->
    <noscript id="deferred-styles">
      <link rel="stylesheet" href="/stylesheets/font-awesome.min.css">    </noscript>

    <script>
      var loadDeferredStyles = function() {
        var addStylesNode = document.getElementById("deferred-styles");
        var replacement = document.createElement("div");
        replacement.innerHTML = addStylesNode.textContent;
        document.body.appendChild(replacement)
        addStylesNode.parentElement.removeChild(addStylesNode);
      };
      var raf = requestAnimationFrame || mozRequestAnimationFrame ||
          webkitRequestAnimationFrame || msRequestAnimationFrame;
      if (raf) raf(function() { window.setTimeout(loadDeferredStyles, 0); });
      else window.addEventListener('load', loadDeferredStyles);
    </script>

  </head>
  <body>
    <header class="titlebar mdl-shadow--2dp">
      <div class="container align-center flexbox--space-between">
        <!-- <div class="row"> -->
          <!-- <div class="col-md-12"> -->
            <span class="hidden-mobile-up">
              <i class="fa fa-bars" aria-hidden="true"></i>
            </span>

            <a href="/" class="align-center m-y-2">
              <img src="/images/adrianmejia-logo.png" alt="Adrian Mejia Logo" class="animation--bounce-in"/>
              <h1 class="hidden-mobile-down hidden">
                Adrian Mejia
              </h1>
            </a>

            <nav class="hidden-mobile-down navbar">
              
                <a href="/#home" class="animation--radial-out" id="Home" onclick="track('/#home', 'menu', true)">Home</a>
              
                <a href="/#trending-posts" class="animation--radial-out" id="Trending" onclick="track('/#trending-posts', 'menu', true)">Trending</a>
              
                <a href="/#about" class="animation--radial-out" id="About" onclick="track('/#about', 'menu', true)">About</a>
              
                <a href="/blog" class="animation--radial-out" id="Blog" onclick="track('/blog', 'menu', true)">Blog</a>
              
            </nav>

            <a href="#" id="search-modal" onclick="track('#search', 'search', true)" class="open-overlay">
  <i class="fa fa-search" aria-hidden="true"></i>
</a>

<div id="search-overlay" class="overlay" aria-hidden="true">

  <script id="movie" type="text/x-handlebars-template">
    <article class="movie">
      {{#photos.0}}
      <a href="/{{path}}">
        <img class="movie-image" src="{{photos.0}}" />
      </a>
      {{/photos.0}}

      <div class="movie-meta">
        <div class="movie-title">
          <a href="/{{path}}">
            {{{_highlightResult.title.value}}}
          </a>
          <span class="movie-year">
            {{updatedYear}}
          </span>
        </div>

        <div class="movie-rating">
          {{#stars}}
            <span class="ais-star-rating--star{{^.}}__empty{{/.}}">
            </span>
          {{/stars}}
        </div>

        <p>
          {{{_highlightResult.excerptStrip.value}}}
        </p>

        <div class="movie-genres">
          {{#tags}}
            <div class="movie-genre">
              {{.}}
            </div>
          {{/tags}}
        </div>
      </div>
    </article>
  </script>

  <div class="search-container">

    <div class="top">
      <div class="search-button">
        <i class="fa fa-search"></i>
      </div>
      <div class="input-container">
        <input type="text" id="search-box" />
        <div id="stats"></div>
      </div>
      <a href="#" class="close-overlay">
        <i class="fa fa-times"></i>
      </a>
    </div>

    <div class="content">
      <div class="facets">

        <div class="facet">
          <div id="clear-all" class="facet-title"></div>
        </div>

        <div class="facet">
          <div class="facet-title">
            <i class="fa fa-tags" aria-hidden="true"></i> Tags
          </div>
          <div id="tags"></div>
        </div>

        <div class="facet">
          <div class="facet-title">
            <i class="fa fa-folder-o" aria-hidden="true"></i>
            Categories
          </div>
          <div id="categories"></div>
        </div>

        <div class="facet">
          <div class="facet-title">
            <i class="fa fa-eye" aria-hidden="true"></i>
            Views
          </div>
          <div id="ratings"></div>
        </div>

        <div class="facet">
          <div class="facet-title">
            <i class="fa fa-calendar" aria-hidden="true"></i>
            Year
          </div>
          <div id="year"></div>
        </div>
      </div>

      <div class="canvas">
        <div id="hits"></div>

        <div id="pagination"></div>

        <div>Powered by <img src="/images/Algolia_logo_bg-white.svg" height="30" alt="Algolia search"></div>
      </div>
    </div>
  </div>
</div>

<script src="/js/search.js"></script>

      </div>
    </header>
    <nav class="hidden-mobile-up mdl-shadow--2dp">
      <div class="container flexbox--space-between navbar">
        
          <a href="/#home" class="animation--underline-from-center">Home</a>
        
          <a href="/#trending-posts" class="animation--underline-from-center">Trending</a>
        
          <a href="/#about" class="animation--underline-from-center">About</a>
        
          <a href="/blog" class="animation--underline-from-center">Blog</a>
        
      </div>
    </nav>

    <main>
      <!--https://developers.google.com/search/docs/data-types/articles-->
<!--http://schema.org/BlogPosting-->
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": ""
  },
  "headline": "MEAN Stack Tutorial MongoDB ExpressJS AngularJS NodeJS (Part III)",
  
  "image": {
    "@type": "ImageObject",
    "url": "http://adrianmejia.com/images/mean_large.png",
    "height": 360,
    "width": 728
  },
  
  "datePublished": "2014-10-03T06:59:34-04:00",
  "dateModified": "2016-08-06T21:47:53-04:00",
  "author": {
    "@type": "Person",
    "name": "Adrian Mejia"
  },
   "publisher": {
    "@type": "Organization",
    "name": "Adrian Mejia",
    "logo": {
      "@type": "ImageObject",
      "url": "http://adrianmejia.com/images/logo.png",
      "width": 347,
      "height": 50
    }
  },
  "description": "We are going to build a full stack Todo App using the MEAN (MongoDB, ExpressJS, AngularJS and NodeJS). This is the last part of three-post series tutorial."
}
</script>


<article class="container post">

  <section class="hero">
    <div class="muted">
      <a class="category-link" href="/categories/Technologies/">Technologies</a> > <a class="category-link" href="/categories/Technologies/Web-Development/">Web Development</a>
    </div>
    <h1>MEAN Stack Tutorial MongoDB ExpressJS AngularJS NodeJS (Part III)</h1>
    <div class="muted">
      <span title="Last time this post was updated">
        <i class="fa fa-calendar" aria-hidden="true"></i>
        Last update
        <time datetime="2016-08-07T01:47:53.000Z" itemprop="dateUpdated">August 6th 2016</time>
      </span>

      
        <span class="m-x-2" title="Pageviews">
          <i class="fa fa-eye" aria-hidden="true"></i>
          239.6k
        </span>
      

      <span class="m-x-2" title="Click to go to the comments section">
        <a href="#disqus_thread">
          <i class="fa fa-comment-o" aria-hidden="true"></i>
          <span class="disqus-comment-count" data-disqus-url="http://adrianmejia.com/blog/2014/10/03/mean-stack-tutorial-mongodb-expressjs-angularjs-nodejs/">0</span>
        </a>
      </span>

      
        <span>
          <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tutorial-MEAN-Stack/">Tutorial_MEAN-Stack</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/angularjs/">angularjs</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">15</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mean-stack/">mean stack</a><span class="tag-list-count">1</span></li></ul>
        </span>
      
    </div>
  </section>

  <div class="art-container" style="background-color: #7EBE42">
    
      <picture>
        <source media="(min-width: 728px)" srcset="/images/mean_large.png">
        <source srcset="/images/mean_small.png">
        <img src="/images/mean_large.png" alt="MEAN Stack Tutorial MongoDB ExpressJS AngularJS NodeJS (Part III)">
      </picture>
    
  </div>

  <div class="row">
    <section class="col-sm-8 p-x-2">

      <div class="post-content  toc-content ">
        <p>We are going to build a full stack Todo App using the MEAN (MongoDB, ExpressJS, AngularJS and NodeJS). This is the last part of <a href="/tags/Tutorial-MEAN-Stack/">three-post series tutorial</a>.</p>
<a id="more"></a>
<p>MEAN Stack tutorial series:</p>
<ol>
<li><a href="/blog/2014/09/28/angularjs-tutorial-for-beginners-with-nodejs-expressjs-and-mongodb/">AngularJS tutorial for beginners (Part I)</a></li>
<li><a href="/blog/2014/10/01/creating-a-restful-api-tutorial-with-nodejs-and-mongodb/">Creating RESTful APIs with NodeJS and MongoDB Tutorial (Part II)</a></li>
<li>MEAN Stack Tutorial: MongoDB, ExpressJS, AngularJS and NodeJS (Part III) <strong>👈 you are here</strong></li>
</ol>
<p>Before completing the app, let’s cover some background about the this stack. If you rather jump to the hands-on part click here to <a href="#start">get started</a>.</p>
<h1 id="Why-MEAN-stack">Why MEAN stack?<a href="#Why-MEAN-stack" class="headerlink" title="Why MEAN stack?"></a></h1><p><a href="#start">TL; DR</a>: NodeJS has been built from bottom up a non-blocking I/O paradigm, which gives you more efficiency per CPU core than using threads in other languages like <a href="http://strongloop.com/strongblog/node-js-is-faster-than-java/" target="_blank" rel="external">Java</a>.</p>
<p>LAMP (Linux-Apache-MySQL-PHP) has dominated web application stack for many years now. Well-known platforms such as Wikipedia, Wordpress, and even Facebook uses it or started with it. Enterprise, usually, used go down the Java path: Hibernate, Spring, Struts, JBoss. More agile frameworks also have been used such as Ruby on Rails and for Python Django and Pylon.</p>
<img src="/images/mean_vs_lamp_stack.png" title="LAMP vs MEAN stack">
<p><strong>Ubiquitous</strong></p>
<p>Well, it turns out, that JavaScript it is everywhere. It used to be limited to browsers. But, now you can found it in smartphones, servers, robots, Arduino, RaspberryPi… Thus, it does not matter what technology you use to build web applications, you need to be familiar with Javascript. In that case, then, it is a time saver to use wherever it fits, especially for building web applications. MEAN stack is embracing that, using Javascript to create end-to-end web applications.
​
<strong>Non-blocking architecture</strong></p>
<p>JavaScript is a dynamic, object-oriented, and functional scripting language. One of the features that make it win over Java Applets decades ago, it was its lightness and non-blocking event loop.
Blocking means that when one line of code is executing, the rest of it is locked waiting to finish. On the other hand, non-blocking gives to each line of code a shot and then through callbacks it can come back when an event happens.
Programming languages that are blocking (Java, Ruby, Python, PHP, …) overcomes concurrency using many threads of execution while JavaScript handles it using non-blocking event loop in a single thread.</p>
<img src="/images/blocking_vs_non_blocking_io.png">
<p>As you can see, a single thread of execution in Node can handle perform multiple tasks vs a non-blocking style that execute each one sequentially. You can read more about it in <a href="[strongloop.com](http://strongloop.com/strongblog/node-js-is-faster-than-java/)" target="_blank">NodeJS faster than Java</a> article.</p>
<p>Some companies like <a href="https://www.paypal-engineering.com/2013/11/22/node-js-at-paypal/" target="_blank" rel="external">Paypal</a> moved from Java backend to NodeJS and reported a increased performance, lower average response times, and development speed gains.  Similarly happens to <a href="https://engineering.groupon.com/2013/misc/i-tier-dismantling-the-monoliths/" target="_blank" rel="external">Groupon</a> that came from Java/Rails monoliths.</p>
<p><strong>Agile and vibrant community</strong></p>
<p>The community behind Javascript is quite vibrant. It has permeated in almost all the fields of technology: data visualization, server-side, databases, robotics, building tools and many more.</p>
<p><a id="start"></a></p>
<h1 id="TODO-app-with-MEAN">TODO app with MEAN<a href="#TODO-app-with-MEAN" class="headerlink" title="TODO app with MEAN"></a></h1><p>In this section are going to put together everything that we learnt in the <a href="/blog/2014/09/28/angularjs-tutorial-for-beginners-with-nodejs-expressjs-and-mongodb/">two</a> <a href="/blog/2014/10/01/creating-a-restful-api-tutorial-with-nodejs-and-mongodb/">previous</a> tutorials.</p>
<h2 id="MEAN-Backend-with-MongoDB-ExpressJS-and-NodeJS">MEAN Backend with MongoDB, ExpressJS and NodeJS<a href="#MEAN-Backend-with-MongoDB-ExpressJS-and-NodeJS" class="headerlink" title="MEAN Backend with MongoDB, ExpressJS and NodeJS"></a></h2><p>In the <a href="/blog/2014/10/01/creating-a-restful-api-tutorial-with-nodejs-and-mongodb/">previous post</a>, we have gone through the process of building a RESTful API and we are going to be building on top of that. <a href="https://github.com/amejiarosario/todoAPIjs" target="_blank" rel="external">Repository here</a>.</p>
<figure class="highlight bash"><figcaption><span>Getting the back-end code build on Part II</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/amejiarosario/todoAPIjs.git</div></pre></td></tr></table></figure>
<h2 id="MEAN-stack-front-end-with-AngularJS">MEAN stack front-end with AngularJS<a href="#MEAN-stack-front-end-with-AngularJS" class="headerlink" title="MEAN stack front-end with AngularJS"></a></h2><p>Similarly, we have build a very lean todoApp in the <a href="/blog/2014/09/28/angularjs-tutorial-for-beginners-with-nodejs-expressjs-and-mongodb/">first part</a> of this tutorial. You can <a href="https://gist.githubusercontent.com/amejiarosario/068143b53e54db43ef38/raw/ngTodo.html" target="_blank" rel="external">download the file</a> to follow along and see it in action <a href="https://cdn.rawgit.com/amejiarosario/068143b53e54db43ef38/raw/ngTodo.html" target="_blank" rel="external">here</a>. You might notice the angularJS app is very simple and even it is entirely in one file for simplicity sake. In further tutorials, we are going to make it more modular, split in files, add tests and stylesheets.</p>
<p>Let’s go first to the ExpressJS app (todoAPIjs) and review the default routing system:</p>
<ol>
<li><code>app.js</code> loads the all the routes.</li>
<li>The root path (<code>/</code>) is mounted on the <code>routes/index.js</code></li>
<li><code>routes/index.js</code> sets the variable title and renders <code>index.ejs</code>.</li>
</ol>
<figure class="highlight javascript"><figcaption><span>Tracing ExpressJS index route</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// app.js</span></div><div class="line"><span class="keyword">var</span> routes = <span class="built_in">require</span>(<span class="string">'./routes/index'</span>);</div><div class="line">app.use(<span class="string">'/'</span>, routes);</div><div class="line"></div><div class="line"><span class="comment">// ./routes/index.js</span></div><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.render(<span class="string">'index'</span>, &#123; <span class="attr">title</span>: <span class="string">'Express'</span> &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// ./views/index.ejs</span></div><div class="line">    &lt;h1&gt;<span class="xml"><span class="tag">&lt;<span class="name">%=</span> <span class="attr">title</span> %&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></div><div class="line">    &lt;p&gt;Welcome to &lt;%= title %&gt;<span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></div></pre></td></tr></table></figure>
<p>The best place to load our <code>./views/index.ejs</code>. So let’s copy the body content from ngTodo.html content in there and change in <code>./routes/index.js</code> title to “ngTodo App”. Don’t forget to add ng-app on the top. <code>&lt;html ng-app=&quot;app&quot;&gt;</code>.</p>
<p><a href="https://github.com/amejiarosario/todoAPIjs/commit/ebf20f4093aa20c867777b4b3db825429b54a20d" target="_blank" rel="external">diff</a></p>
<h1 id="Wiring-up-the-App">Wiring up the App<a href="#Wiring-up-the-App" class="headerlink" title="Wiring up the App"></a></h1><h2 id="AngularJS-Read-with-http">AngularJS Read with $http<a href="#AngularJS-Read-with-http" class="headerlink" title="AngularJS Read with $http"></a></h2><p>As you might notice, in the factory, we have a fixed array. We need to change it to communicate with the API that we just build.</p>
<p><code>$http</code> is Anguar core sevice that allow to make <code>XMLHttpRequest</code> or <code>jsonp</code> request. You can either pass an object with http verb and url or call call $http.verb (<code>$http.get</code>, <code>$http.post</code>).</p>
<p><code>$http</code> returns a promise which has a <code>success</code> and <code>error</code> function.</p>
<figure class="highlight javascript"><figcaption><span>AngularJS $HTTP Usage Example</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$http(&#123;<span class="attr">method</span>: <span class="string">'GET'</span>, <span class="attr">url</span>: <span class="string">'/todos'</span>&#125;).</div><div class="line">  success(<span class="function"><span class="keyword">function</span>(<span class="params">data, status, headers, config</span>) </span>&#123;</div><div class="line">    <span class="comment">// this callback will be called asynchronously</span></div><div class="line">    <span class="comment">// when the response is available.</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'todos: '</span>, data );</div><div class="line">  &#125;).</div><div class="line">  error(<span class="function"><span class="keyword">function</span>(<span class="params">data, status, headers, config</span>) </span>&#123;</div><div class="line">    <span class="comment">// called asynchronously if an error occurs</span></div><div class="line">    <span class="comment">// or server returns response with an error status.</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Oops and error'</span>, data);</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<p>Let’s try it out in our app. Go to <code>views/index.ejs</code> and do this changes:</p>
<figure class="highlight javascript"><figcaption><span>Using $http to retrieve data from database</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Service</span></div><div class="line">.factory(<span class="string">'Todos'</span>, [<span class="string">'$http'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$http</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> $http.get(<span class="string">'/todos'</span>);</div><div class="line">&#125;])</div><div class="line"></div><div class="line"><span class="comment">// Controller</span></div><div class="line">.controller(<span class="string">'TodoController'</span>, [<span class="string">'$scope'</span>, <span class="string">'Todos'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope, Todos</span>) </span>&#123;</div><div class="line">  Todos.success(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">    $scope.todos = data;</div><div class="line">  &#125;).error(<span class="function"><span class="keyword">function</span>(<span class="params">data, status</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(data, status);</div><div class="line">    $scope.todos = [];</div><div class="line">  &#125;);</div><div class="line">&#125;])</div></pre></td></tr></table></figure>
<p><a href="https://github.com/amejiarosario/todoAPIjs/commit/0221aebd62e88445629debe4f132684686cf48ec" target="_blank" rel="external">diff</a></p>
<p><code>$http.get</code> will request data using the <code>GET</code> method.</p>
<blockquote>
<p>Try it in your browser!s If you have data from the <a href="http://adrianmejia.com/blog/2014/10/01/creating-a-restful-api-tutorial-with-nodejs-and-mongodb/#browser-and-postman">previous tutorial</a> you should be able to see it.</p>
</blockquote>
<p>To <strong>start the server</strong>, you can use
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm start</div></pre></td></tr></table></figure></p>
<p>or if you have it installed</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nodemon</div></pre></td></tr></table></figure>
<h2 id="AngularJS-Read-with-resource">AngularJS Read with $resource<a href="#AngularJS-Read-with-resource" class="headerlink" title="AngularJS Read with $resource"></a></h2><p>If you click in one of the Todo elements and get redirected to the detail page, you will not see anything yet. We need to update the <code>TodoDetailCtrl</code> first. Even though we already have the GET verb working. We have a different URL requirement for <code>/todos/:id</code> for the other methods. There’s an Angular service that has a higher level of abstraction of $http to deal with RESTful requests. It is called <code>$resource</code>.</p>
<p>Initialize as:
<code>$resource(url, [paramDefaults], [actions], options);</code></p>
<p>It comes with the following actions already defined; it is missing one though… Can you tell?</p>
<figure class="highlight javascript"><figcaption><span>$resource actions</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123; <span class="string">'get'</span>:    &#123;<span class="attr">method</span>:<span class="string">'GET'</span>&#125;,  <span class="comment">// get individual record</span></div><div class="line">  <span class="string">'save'</span>:   &#123;<span class="attr">method</span>:<span class="string">'POST'</span>&#125;, <span class="comment">// create record</span></div><div class="line">  <span class="string">'query'</span>:  &#123;<span class="attr">method</span>:<span class="string">'GET'</span>, <span class="attr">isArray</span>:<span class="literal">true</span>&#125;, <span class="comment">// get list all records</span></div><div class="line">  <span class="string">'remove'</span>: &#123;<span class="attr">method</span>:<span class="string">'DELETE'</span>&#125;, <span class="comment">// remove record</span></div><div class="line">  <span class="string">'delete'</span>: &#123;<span class="attr">method</span>:<span class="string">'DELETE'</span>&#125; &#125;; <span class="comment">// same, remove record</span></div></pre></td></tr></table></figure>
<p>The instances are used in the following way (examples will come later):</p>
<ul>
<li>GET: <code>Resource.get([parameters], [success], [error])</code></li>
<li>Non-GET: <code>Resource.action([parameters], postData, [success], [error])</code></li>
<li>Non-GET: <code>resourceInstance.$action([parameters], [success], [error])</code></li>
</ul>
<p><code>$resource</code> is not part of the Angular core, so it requires to <code>ngResource</code> and the dependency. We can get it from the CDN:</p>
<figure class="highlight html"><figcaption><span>ngResource dependency</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-resource.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>This is what need to set it up:</p>
<figure class="highlight javascript"><figcaption><span>$resource.query()</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">  <span class="comment">// add ngResource dependency</span></div><div class="line">  angular.module(<span class="string">'app'</span>, [<span class="string">'ngRoute'</span>, <span class="string">'ngResource'</span>])</div><div class="line"></div><div class="line">  <span class="comment">// ...</span></div><div class="line"></div><div class="line">        .factory(<span class="string">'Todos'</span>, [<span class="string">'$resource'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$resource</span>)</span>&#123;</div><div class="line">          <span class="keyword">return</span> $resource(<span class="string">'/todos/:id'</span>, <span class="literal">null</span>, &#123;</div><div class="line">            <span class="string">'update'</span>: &#123; <span class="attr">method</span>:<span class="string">'PUT'</span> &#125;</div><div class="line">          &#125;);</div><div class="line">        &#125;])</div><div class="line"><span class="comment">// ...</span></div><div class="line">        .controller(<span class="string">'TodoController'</span>, [<span class="string">'$scope'</span>, <span class="string">'Todos'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope, Todos</span>) </span>&#123;</div><div class="line">          $scope.todos = Todos.query();</div><div class="line">        &#125;])</div></pre></td></tr></table></figure>
<p>Angular will render an empty <code>$scope.todos</code>. but, when <code>Todos.query()</code> comes with the data from the server it will re-render the UI.</p>
<p><a href="https://github.com/amejiarosario/todoAPIjs/commit/2aff6fe004bf7f7b2cd1b91d53e6958c3b158a20" target="_blank" rel="external">diff</a></p>
<h2 id="AngularJS-Create">AngularJS Create<a href="#AngularJS-Create" class="headerlink" title="AngularJS Create"></a></h2><p>We will need to create a new text box, a button to send a <code>POST</code> request to server and add it to the <code>$scope</code>.</p>
<blockquote>
<p>We are using inline templates with <code>id=&quot;/todos.html&quot;</code> and <code>id=&quot;/todoDetails.html&quot;</code>. They are not physical files. Just <code>ng-template</code> that we create in the <a href="/blog/2014/09/28/angularjs-tutorial-for-beginners-with-nodejs-expressjs-and-mongodb/">part I</a> of these <a href="/tags/Tutorial-MEAN-Stack/">tutorial series</a>.</p>
</blockquote>
<p>Add this code at the bottom of the <code>id=&quot;/todos.html&quot;</code> template:</p>
<figure class="highlight html"><figcaption><span>New textbox for adding Todos</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">New task <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"newTodo"</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-click</span>=<span class="string">"save()"</span>&gt;</span>Create<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Notice that we are using a new directive <code>ng-click</code>, this one executes a function when it clicked. Angular makes sure that the behaviour is consistent across different browsers.</p>
<figure class="highlight javascript"><figcaption><span>Save function $resource.$save(...)</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">.controller(<span class="string">'TodoController'</span>, [<span class="string">'$scope'</span>, <span class="string">'Todos'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope, Todos</span>) </span>&#123;</div><div class="line">  $scope.todos = Todos.query();</div><div class="line"></div><div class="line">  $scope.save = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(!$scope.newTodo || $scope.newTodo.length &lt; <span class="number">1</span>) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">var</span> todo = <span class="keyword">new</span> Todos(&#123; <span class="attr">name</span>: $scope.newTodo, <span class="attr">completed</span>: <span class="literal">false</span> &#125;);</div><div class="line"></div><div class="line">    todo.$save(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      $scope.todos.push(todo);</div><div class="line">      $scope.newTodo = <span class="string">''</span>; <span class="comment">// clear textbox</span></div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line">&#125;])</div></pre></td></tr></table></figure>
<p><a href="https://github.com/amejiarosario/todoAPIjs/commit/46dd14023e2d9eff72d1366dbba9c9c8c872e07b" target="_blank" rel="external">diff</a></p>
<h2 id="Show-Todo-details">Show Todo details<a href="#Show-Todo-details" class="headerlink" title="Show Todo details"></a></h2><p>Every time you click a todo link, it is showing an empty fields. Let’s fix that. First we need set the real <code>_id</code> to the links instead of <code>$index</code>.</p>
<figure class="highlight html"><figcaption><span>Change the ID link in the `id="/todos.html"` template (fragment)</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"todo in todos | filter: search"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-model</span>=<span class="string">"todo.completed"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#/&#123;&#123;todo._id&#125;&#125;"</span>&gt;</span>&#123;&#123;todo.name&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><figcaption><span>Update TodoDetailCtrl with $resource.get</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.controller(<span class="string">'TodoDetailCtrl'</span>, [<span class="string">'$scope'</span>, <span class="string">'$routeParams'</span>, <span class="string">'Todos'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope, $routeParams, Todos</span>) </span>&#123;</div><div class="line">  $scope.todo = Todos.get(&#123;<span class="attr">id</span>: $routeParams.id &#125;);</div><div class="line">&#125;])</div></pre></td></tr></table></figure>
<p>Notice the change from
<code>$scope.todo = Todos[$routeParams.id];</code>
to
<code>$scope.todo = Todos.get({id: $routeParams.id });</code></p>
<p>Now you should be able to see the details :)</p>
<p><a href="https://github.com/amejiarosario/todoAPIjs/commit/2484107294163a25621fba3785601adb32229ae9" target="_blank" rel="external">diff</a></p>
<h2 id="AngularJS-Update-in-line-editing">AngularJS Update (in-line editing)<a href="#AngularJS-Update-in-line-editing" class="headerlink" title="AngularJS Update (in-line editing)"></a></h2><p>This is going to be a very cool feature. Let’s meet these new directives:</p>
<ul>
<li><p><strong>ng-show</strong>: this directive shows the element if the expression evaluates to true. Otherwise, the content is hidden.</p>
</li>
<li><p><strong>ng-change</strong>: directive for input elements that evaluates the expression after any change.</p>
</li>
</ul>
<p>Replace the template with <code>id=&quot;/todos.html&quot;</code> with the following:</p>
<figure class="highlight html"><figcaption><span>Template todos.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- Template --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/ng-template"</span> <span class="attr">id</span>=<span class="string">"/todos.html"</span>&gt;</span><span class="xml"></span></div><div class="line">  Search: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"search.name"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"todo in todos | filter: search"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-model</span>=<span class="string">"todo.completed"</span> <span class="attr">ng-change</span>=<span class="string">"update($index)"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">ng-show</span>=<span class="string">"!editing[$index]"</span> <span class="attr">href</span>=<span class="string">"#/&#123;&#123;todo._id&#125;&#125;"</span>&gt;</span>&#123;&#123;todo.name&#125;&#125;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-show</span>=<span class="string">"!editing[$index]"</span> <span class="attr">ng-click</span>=<span class="string">"edit($index)"</span>&gt;</span>edit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">ng-show</span>=<span class="string">"editing[$index]"</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"todo.name"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-show</span>=<span class="string">"editing[$index]"</span> <span class="attr">ng-click</span>=<span class="string">"update($index)"</span>&gt;</span>Update<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-show</span>=<span class="string">"editing[$index]"</span> <span class="attr">ng-click</span>=<span class="string">"cancel($index)"</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">  New task <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"newTodo"</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-click</span>=<span class="string">"save()"</span>&gt;</span>Create<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Now let’s change the controller to handle the inline editing:</p>
<figure class="highlight javascript"><figcaption><span>Todo Controller</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">.controller(<span class="string">'TodoController'</span>, [<span class="string">'$scope'</span>, <span class="string">'Todos'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope, Todos</span>) </span>&#123;</div><div class="line">  $scope.editing = [];</div><div class="line">  $scope.todos = Todos.query();</div><div class="line"></div><div class="line">  $scope.save = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(!$scope.newTodo || $scope.newTodo.length &lt; <span class="number">1</span>) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">var</span> todo = <span class="keyword">new</span> Todos(&#123; <span class="attr">name</span>: $scope.newTodo, <span class="attr">completed</span>: <span class="literal">false</span> &#125;);</div><div class="line"></div><div class="line">    todo.$save(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      $scope.todos.push(todo);</div><div class="line">      $scope.newTodo = <span class="string">''</span>; <span class="comment">// clear textbox</span></div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  $scope.update = <span class="function"><span class="keyword">function</span>(<span class="params">index</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> todo = $scope.todos[index];</div><div class="line">    Todos.update(&#123;<span class="attr">id</span>: todo._id&#125;, todo);</div><div class="line">    $scope.editing[index] = <span class="literal">false</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  $scope.edit = <span class="function"><span class="keyword">function</span>(<span class="params">index</span>)</span>&#123;</div><div class="line">    $scope.editing[index] = angular.copy($scope.todos[index]);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  $scope.cancel = <span class="function"><span class="keyword">function</span>(<span class="params">index</span>)</span>&#123;</div><div class="line">    $scope.todos[index] = angular.copy($scope.editing[index]);</div><div class="line">    $scope.editing[index] = <span class="literal">false</span>;</div><div class="line">  &#125;</div><div class="line">&#125;])</div></pre></td></tr></table></figure>
<p>We added a new variable <code>$scope.editing</code> which shows or hides the form to edit the values. Furthermore, notice ng-click functions: edit, update and cancel.</p>
<blockquote>
<p>Let’s see what they do. Try it out!</p>
</blockquote>
<p>While were are editing notice that we copy the original todo task into the editing variable. This server for two purposes:</p>
<ol>
<li><p>It evaluates to <code>true</code> and show the forms with <code>ng-show</code></p>
</li>
<li><p>It holds a copy of the original value in case we press cancel.</p>
</li>
</ol>
<p>Now, going to the Todo Details. We would like that to be updated as well and add notes.</p>
<figure class="highlight html"><figcaption><span>Todo Details</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/ng-template"</span> <span class="attr">id</span>=<span class="string">"/todoDetails.html"</span>&gt;</span><span class="xml"></span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123; todo.name &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  completed: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-model</span>=<span class="string">"todo.completed"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">  note: <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">ng-model</span>=<span class="string">"todo.note"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-click</span>=<span class="string">"update()"</span>&gt;</span>Update<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Similarly, we added an update method. However, this time we do not need to pass any index, since it is just one todo at a time. After it has been saved, it goes back to root path <code>/</code>.</p>
<figure class="highlight javascript"><figcaption><span>TodoDetailCtrl controller</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">.controller(<span class="string">'TodoDetailCtrl'</span>, [<span class="string">'$scope'</span>, <span class="string">'$routeParams'</span>, <span class="string">'Todos'</span>, <span class="string">'$location'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$scope, $routeParams, Todos, $location</span>) </span>&#123;</div><div class="line">  $scope.todo = Todos.get(&#123;<span class="attr">id</span>: $routeParams.id &#125;);</div><div class="line"></div><div class="line">  $scope.update = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    Todos.update(&#123;<span class="attr">id</span>: $scope.todo._id&#125;, $scope.todo, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      $location.url(<span class="string">'/'</span>);</div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line">&#125;])</div></pre></td></tr></table></figure>
<blockquote>
<p>Awesome! Time to check it out in the browser!</p>
</blockquote>
<p><code>$location.url([url])</code> is a getter/setter method that allows us to change url, thus routing/view.</p>
<p><a href="https://github.com/amejiarosario/todoAPIjs/commit/b6394448e1e1e8384815877df764507d6562dc4d" target="_blank" rel="external">diff</a></p>
<h2 id="AngularJS-Delete">AngularJS Delete<a href="#AngularJS-Delete" class="headerlink" title="AngularJS Delete"></a></h2><p>These are the changes added to perform the remove functionality:</p>
<p>A. Add removes button in the <code>li</code> element:
<figure class="highlight html"><figcaption><span>todos.html Template</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-show</span>=<span class="string">"!editing[$index]"</span> <span class="attr">ng-click</span>=<span class="string">"remove($index)"</span>&gt;</span>remove<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>Do the same for the details Template</p>
<figure class="highlight html"><figcaption><span>todoDetails.html Template</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">ng-click</span>=<span class="string">"remove()"</span>&gt;</span>Remove<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
<p>B. Add remove functionality in the controllers
<figure class="highlight javascript"><figcaption><span>TodoController</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">$scope.remove = <span class="function"><span class="keyword">function</span>(<span class="params">index</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> todo = $scope.todos[index];</div><div class="line">  Todos.remove(&#123;<span class="attr">id</span>: todo._id&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    $scope.todos.splice(index, <span class="number">1</span>);</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>And also in the details controllers</p>
<figure class="highlight javascript"><figcaption><span>todoDetails controller</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$scope.remove = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  Todos.remove(&#123;<span class="attr">id</span>: $scope.todo._id&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    $location.url(<span class="string">'/'</span>);</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>When we remove elements from the todos array <code>$scope.todos.splice(index, 1)</code> they also disappear from the DOM. Very cool, huh?</p>
<p><a href="https://github.com/amejiarosario/todoAPIjs/commit/b9ff3a863c78d72e71b5cc9eb573bb3cb9d87179" target="_blank" rel="external">diff</a></p>
<blockquote>
<p><strong>Congratulations! You are now a MEAN developer!</strong></p>
</blockquote>
<h1 id="What’s-next">What’s next?<a href="#What’s-next" class="headerlink" title="What’s next?"></a></h1><p>Learn how to use GruntJS to automate repetitive tasks in your MEAN Stack workflow.</p>
<p><a href="/blog/2014/10/07/grunt-js-tutorial-from-beginner-to-ninja/">GruntJS Tutorial</a></p>
<p>Also, you can learn more about full-stack framework solutions.</p>
<h2 id="Full-Stack-Javascript-Web-Frameworks">Full-Stack Javascript Web Frameworks<a href="#Full-Stack-Javascript-Web-Frameworks" class="headerlink" title="Full-Stack Javascript Web Frameworks"></a></h2><p>What we did in these three series tutorial could have been done with just few keystrokes in the comamnd line ;). However, it’s good to know what’s going on. But at this point you do. So, I will introduce you to some frameworks that can save you a lot of time.</p>
<p><strong>Using MEAN.io</strong></p>
<p><a href="http://mean.io" target="_blank" rel="external">MeanIO</a> uses a customized CLI tool: ‘mean’. Its approach for modularity is leaned towards self-contained packages that have code for both client and server files. At moment of writing this, it has nine packages ranging from MEAN-Admin, Translation, file uploads, image crop and more.</p>
<p><strong>Using MEAN.js</strong></p>
<p><a href="http://meanjs.org/" target="_blank" rel="external">MeanJS</a> it is a fork from the creator of MEAN.IO, it uses Yeoman generators to generate Angular’s CRUD modules, routes, controllers, views, services, and more. Also has generators for Express: models, controllers, routes and tests. It has excellent documentation.</p>
<h2 id="Others-Frameworks-to-look-at">Others Frameworks to look at<a href="#Others-Frameworks-to-look-at" class="headerlink" title="Others Frameworks to look at"></a></h2><ul>
<li><a href="https://www.meteor.com/" target="_blank" rel="external">Meteor</a> - Meteor is an open-source platform for building top-quality web apps in a fraction of the time, whether you’re an expert developer or just getting started.</li>
<li><a href="http://sailsjs.org/" target="_blank" rel="external">Sails</a> - The web framework of your dreams.
for your next web application.</li>
<li><a href="https://developer.yahoo.com/cocktails/mojito/" target="_blank" rel="external">Yahoo! Mojito</a> - A JavaScript MVC framework for mobile applications, one of the Yahoo! Cocktails.</li>
<li><a href="http://towerjs.org" target="_blank" rel="external">Tower.js</a> - Small components for building apps, manipulating data, and automating a distributed infrastructure.</li>
</ul>

      </div>

      

        <!-- Related -->
        <footer>
          <div class="m-y-4">
            
              
                <div class="container">
                <h1 class="capitalize">Tutorial MEAN Stack Series</h1>
                <div class="row">
              

              <!-- <ol> -->
              <article class="col-md-6 col-sm-6 card">
  <a href="/blog/2014/09/28/angularjs-tutorial-for-beginners-with-nodejs-expressjs-and-mongodb/">
    
      <img src="/images/AngularJSTutorial_small.png" width="300" height="250">
      <section class="p-a-1">
        <h3>AngularJS tutorial for beginners with NodeJS ExpressJS and MongoDB (Part I)</h3>
      </section>
    
  </a>
</article>

              <!-- </ol> -->

              
            
              

              <!-- <ol> -->
              <article class="col-md-6 col-sm-6 card">
  <a href="/blog/2014/10/01/creating-a-restful-api-tutorial-with-nodejs-and-mongodb/">
    
      <img src="/images/RESTfulAPIs_NodeJS__mongodb_small.png" width="300" height="250">
      <section class="p-a-1">
        <h3>Creating RESTful APIs with NodeJS and MongoDB Tutorial (Part II)</h3>
      </section>
    
  </a>
</article>

              <!-- </ol> -->

              
            
              

              <!-- <ol> -->
              <article class="col-md-6 col-sm-6 card">
  <a href="/blog/2014/10/03/mean-stack-tutorial-mongodb-expressjs-angularjs-nodejs/">
    
      <img src="/images/mean_small.png" width="300" height="250">
      <section class="p-a-1">
        <h3>MEAN Stack Tutorial MongoDB ExpressJS AngularJS NodeJS (Part III)</h3>
      </section>
    
  </a>
</article>

              <!-- </ol> -->

              
              </div><!-- .row -->
              </div><!-- .container -->
              
            
          </div>

        <!-- subscribe -->
        <div class="m-y-4">
          <!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="//adrianmejia.us2.list-manage.com/subscribe/post?u=2294bb28c5931a6f2338d2474&amp;id=52678e825b" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" novalidate>
    <div id="mc_embed_signup_scroll">
	<label for="mce-EMAIL">Subscribe &amp; stay up to date!</label>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_2294bb28c5931a6f2338d2474_52678e825b" tabindex="-1" value=""></div>
    <div class="clear">&nbsp;<input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>
<!--End mc_embed_signup-->

<script type="text/javascript">
  var form = document.getElementById('mc-embedded-subscribe-form');
  form.addEventListener('submit', function(event) {
    event.preventDefault();
    ga('send', 'event', 'newsletter', 'signup', 'page', {
      hitCallback: createFunctionWithTimeout(function() {
        form.submit();
      })
    });
  });
</script>

        </div>

        <!-- Adrian Mejia Bio -->
        <section class="bio-box">
  <img class="m-a-1 not-scaled" src="/images/adrianmejia-small.png" alt="Adrian Mejia">
  <p class="p-x-1 muted">Adrian Mejia is a full-stack web developer located in Boston. Currently working at Cisco as a Software Engineer. Adrian enjoys writing posts about programming and technology. Also, he likes to travel ✈️ and biking 🚴‍. Find our more <a href="/#about">here</a>.</p>
</section>


          <!-- 726x88 -->
          <!---->
          <!--<script data-cfasync="false" type="text/javascript" src="(DISABLED)//www.eboundservices.com/ads/728x90_non_responsive.js"></script>-->
<!--           <div class="hidden-mobile-down">
            <script data-cfasync="false" type="text/javascript" src="(DISABLED)//www.eboundservices.com/ads/728x90_responsive.js"></script>
          </div> -->
          <!--<script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/336x280_responsive.js"></script>-->
          <script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/dfp/336x280_responsive.js"></script>


        </footer>

      <!-- if(page.layout !== 'snippet') -->
    </section>

    <!-- Asides (Ads, TOC, ...) -->
    <aside class="col-sm-4 p-x-2 col-xs-order-1">
      <section>

        <!-- 300x250 -->
        <!---->
        <!--<script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/300x250_non_responsive.js"></script>-->
        <!--<div class="hidden-mobile-down">-->
          <!--<script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/300x250_responsive.js"></script>-->
        <!--</div>-->

        <!--<div class="hidden-mobile-up">-->
        <!--<script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/336x280_responsive.js"></script>-->
        <!--</div>-->
        <script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/dfp/336x280_responsive.js"></script>

      </section>

      <section class="sticky-element--start">
        <div class="muted">
          <div class="p-y-1">
            <a href="#" class=""><span id="back-to-top" title="Go back to the top of this page">
              <i class="fa fa-arrow-up"></i> Top
            </span></a>

            <a href="#" class="p-x-3" title="Improve this post" onclick="track('https://github.com/amejiarosario/amejiarosario.github.io/edit/source/source/_posts/2014-10-03-mean-stack-tutorial-mongodb-expressjs-angularjs-nodejs.markdown')">
              <i class="fa fa-pencil"></i> Edit this post
            </a>
            <!-- <a href="#" title="Share this post"><i class="fa fa-share"></i> Share</a> -->
            <!--<div class="p-y-1">-->
              <!---->
              <!---->
              <!---->
              <!---->
            <!--</div>-->
          </div>

          
            <h3 class="toc-title">Contents</h3>
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Why-MEAN-stack"><span class="toc-number">1.</span> <span class="toc-text">Why MEAN stack?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#TODO-app-with-MEAN"><span class="toc-number">2.</span> <span class="toc-text">TODO app with MEAN</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MEAN-Backend-with-MongoDB-ExpressJS-and-NodeJS"><span class="toc-number">2.1.</span> <span class="toc-text">MEAN Backend with MongoDB, ExpressJS and NodeJS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MEAN-stack-front-end-with-AngularJS"><span class="toc-number">2.2.</span> <span class="toc-text">MEAN stack front-end with AngularJS</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Wiring-up-the-App"><span class="toc-number">3.</span> <span class="toc-text">Wiring up the App</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#AngularJS-Read-with-http"><span class="toc-number">3.1.</span> <span class="toc-text">AngularJS Read with $http</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AngularJS-Read-with-resource"><span class="toc-number">3.2.</span> <span class="toc-text">AngularJS Read with $resource</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AngularJS-Create"><span class="toc-number">3.3.</span> <span class="toc-text">AngularJS Create</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Show-Todo-details"><span class="toc-number">3.4.</span> <span class="toc-text">Show Todo details</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AngularJS-Update-in-line-editing"><span class="toc-number">3.5.</span> <span class="toc-text">AngularJS Update (in-line editing)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AngularJS-Delete"><span class="toc-number">3.6.</span> <span class="toc-text">AngularJS Delete</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#What’s-next"><span class="toc-number">4.</span> <span class="toc-text">What’s next?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Full-Stack-Javascript-Web-Frameworks"><span class="toc-number">4.1.</span> <span class="toc-text">Full-Stack Javascript Web Frameworks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Others-Frameworks-to-look-at"><span class="toc-number">4.2.</span> <span class="toc-text">Others Frameworks to look at</span></a></li></ol></li></ol>

            <!-- 300x600 -->
            <!---->
            <!--<script data-cfasync="false" type="text/javascript" src="(DISABLED)//www.eboundservices.com/ads/300x600_non_responsive.js"></script>-->
            <div class="hidden-mobile-down">
              <script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/dfp/160x600_responsive.js"></script>
            </div>
          
        </div>
      </section>
    </aside>
  </div>

  <!-- Next and previous posts -->
  
    <div class="article-nav m-y-4">
      
        <a href="/blog/2014/10/07/grunt-js-tutorial-from-beginner-to-ninja/" class="article-nav-newer" class="article-nav-link-wrap">
          <strong class="article-nav-caption"><i class="fa fa-chevron-left"></i> newer</strong>
          <div class="article-nav-title">
            
              Grunt JS tutorial from Beginner to Ninja
            
          </div>
        </a>
      
      
        <a href="/blog/2014/10/01/creating-a-restful-api-tutorial-with-nodejs-and-mongodb/" class="article-nav-older" class="article-nav-link-wrap">
          <strong class="article-nav-caption">older <i class="fa fa-chevron-right"></i></strong>
          <div class="article-nav-title">Creating RESTful APIs with NodeJS and MongoDB Tutorial (Part II)</div>
        </a>
      
    </div>
  

  <!-- comments -->
  <footer class="row sticky-element--end">
    <div class="col-xs-12">
      <section>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://adrianmejia.com/blog/2014/10/03/mean-stack-tutorial-mongodb-expressjs-angularjs-nodejs/';
      this.page.identifier = 'http://adrianmejia.com/blog/2014/10/03/mean-stack-tutorial-mongodb-expressjs-angularjs-nodejs/';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = '//adrianmejia.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</section>

    </div>
  </footer>
</article>

    </main>

    <footer class="page-footer">
      <div class="container">
        <div class="p-y-2">
          &copy; 2018 <a href="http://adrianmejia.com">Adrian Mejia</a>
          <span class="muted m-x-4" title="Tue Jun 12 2018 17:46:02 GMT-0400 (EDT)">
            v.pa8cgq
          </span>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="/js/main.js"></script>    <script id="dsq-count-scr" src="//adrianmejia.disqus.com/count.js" async></script>
    <!-- Algolia Search -->
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/instantsearch.js/1/instantsearch.min.css" />
    <script src="//cdn.jsdelivr.net/instantsearch.js/1/instantsearch.min.js"></script>
    <link rel="stylesheet" href="/stylesheets/55_search.css">


    <!-- social scripts -->
    

    
      <script type="text/javascript">
        var addthis_config = {
          data_ga_property: 'UA-24183929-4',
          data_ga_social : true
        };
      </script>
      <script async defer type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-579cb31b46e2f7e6"></script>
      <script src="/js/posts.js"></script>    
  </body>
</html>
