<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="author" content="Adrian Mejia">
    <link rel="author" href="humans.txt" />
    <meta name="description" content="Adrian Mejia blog about programming and software engineering. Featuring MEAN stack (AngularJS, NodeJS, MongoDB and Express), BackboneJS, RESTful APIs, Algorithms and data structures.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <link rel="alternative" href="/atom.xml" title="Adrian Mejia Blog" type="application/atom+xml">

    
    <title>Angular 2 Tutorial: Create a CRUD App with Angular CLI and TypeScript | Adrian Mejia Blog</title>

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="http://adrianmejia.com/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://adrianmejia.com/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://adrianmejia.com/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://adrianmejia.com/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="http://adrianmejia.com/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://adrianmejia.com/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://adrianmejia.com/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://adrianmejia.com/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="http://adrianmejia.com/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="http://adrianmejia.com/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="http://adrianmejia.com/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="http://adrianmejia.com/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="http://adrianmejia.com/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="Adrian Mejia's Blog"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="http://adrianmejia.com/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="http://adrianmejia.com/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="http://adrianmejia.com/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="http://adrianmejia.com/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="http://adrianmejia.com/mstile-310x310.png" />
    <meta name="msapplication-notification" content="frequency=30;polling-uri=http://notifications.buildmypinnedsite.com/?feed=http://adrianmejia.com/atom.xml&amp;id=1;polling-uri2=http://notifications.buildmypinnedsite.com/?feed=http://adrianmejia.com/atom.xml&amp;id=2;polling-uri3=http://notifications.buildmypinnedsite.com/?feed=http://adrianmejia.com/atom.xml&amp;id=3;polling-uri4=http://notifications.buildmypinnedsite.com/?feed=http://adrianmejia.com/atom.xml&amp;id=4;polling-uri5=http://notifications.buildmypinnedsite.com/?feed=http://adrianmejia.com/atom.xml&amp;id=5;cycle=1" />

    <link rel="canonical" href="http://adrianmejia.com/blog/2016/10/01/Angular-2-Tutorial-Create-a-CRUD-App-with-Angular-CLI-and-TypeScript/" />
    <!-- Open Graph -->
    <meta property="og:url" content="http://adrianmejia.com/blog/2016/10/01/Angular-2-Tutorial-Create-a-CRUD-App-with-Angular-CLI-and-TypeScript/" />
    <meta property="og:site_name" content="Adrian Mejia Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:description" content="Adrian Mejia blog about programming and software engineering. Featuring MEAN stack (AngularJS, NodeJS, MongoDB and Express), BackboneJS, RESTful APIs, Algorithms and data structures." />
    <meta property="og:image" content="http://adrianmejia.com/images/angular-2-tutorial-angular-cli-large.png" />
    <meta property="og:title" content="Angular 2 Tutorial: Create a CRUD App with Angular CLI and TypeScript" />
    <meta property="fb:app_id" content="761831487293468" />
    <meta property="fb:admins" content="895685163"/>
    <!-- /Open Graph -->

    <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-24183929-4', 'auto');
ga('send', 'pageview');
</script><script async defer src='https://www.google-analytics.com/analytics.js'></script>


    <!-- Critical Styles -->
    <style media="screen">
      .overlay { display: none }
    </style>
    <link rel="stylesheet" href="/stylesheets/main.css">
    <!-- loadDeferredStyles -->
    <noscript id="deferred-styles">
      <link rel="stylesheet" href="/stylesheets/font-awesome.min.css">    </noscript>

    <script>
      var loadDeferredStyles = function() {
        var addStylesNode = document.getElementById("deferred-styles");
        var replacement = document.createElement("div");
        replacement.innerHTML = addStylesNode.textContent;
        document.body.appendChild(replacement)
        addStylesNode.parentElement.removeChild(addStylesNode);
      };
      var raf = requestAnimationFrame || mozRequestAnimationFrame ||
          webkitRequestAnimationFrame || msRequestAnimationFrame;
      if (raf) raf(function() { window.setTimeout(loadDeferredStyles, 0); });
      else window.addEventListener('load', loadDeferredStyles);
    </script>

  </head>
  <body>
    <header class="titlebar mdl-shadow--2dp">
      <div class="container align-center flexbox--space-between">
        <!-- <div class="row"> -->
          <!-- <div class="col-md-12"> -->
            <span class="hidden-mobile-up">
              <i class="fa fa-bars" aria-hidden="true"></i>
            </span>

            <a href="/" class="align-center m-y-2">
              <img src="/images/adrianmejia-logo.png" alt="Adrian Mejia Logo" class="animation--bounce-in"/>
              <h1 class="hidden-mobile-down hidden">
                Adrian Mejia
              </h1>
            </a>

            <nav class="hidden-mobile-down navbar">
              
                <a href="/#home" class="animation--radial-out" id="Home" onclick="track('/#home', 'menu', true)">Home</a>
              
                <a href="/#trending-posts" class="animation--radial-out" id="Trending" onclick="track('/#trending-posts', 'menu', true)">Trending</a>
              
                <a href="/#about" class="animation--radial-out" id="About" onclick="track('/#about', 'menu', true)">About</a>
              
                <a href="/blog" class="animation--radial-out" id="Blog" onclick="track('/blog', 'menu', true)">Blog</a>
              
            </nav>

            <a href="#" id="search-modal" onclick="track('#search', 'search', true)" class="open-overlay">
  <i class="fa fa-search" aria-hidden="true"></i>
</a>

<div id="search-overlay" class="overlay" aria-hidden="true">

  <script id="movie" type="text/x-handlebars-template">
    <article class="movie">
      {{#photos.0}}
      <a href="/{{path}}">
        <img class="movie-image" src="{{photos.0}}" />
      </a>
      {{/photos.0}}

      <div class="movie-meta">
        <div class="movie-title">
          <a href="/{{path}}">
            {{{_highlightResult.title.value}}}
          </a>
          <span class="movie-year">
            {{updatedYear}}
          </span>
        </div>

        <div class="movie-rating">
          {{#stars}}
            <span class="ais-star-rating--star{{^.}}__empty{{/.}}">
            </span>
          {{/stars}}
        </div>

        <p>
          {{{_highlightResult.excerptStrip.value}}}
        </p>

        <div class="movie-genres">
          {{#tags}}
            <div class="movie-genre">
              {{.}}
            </div>
          {{/tags}}
        </div>
      </div>
    </article>
  </script>

  <div class="search-container">

    <div class="top">
      <div class="search-button">
        <i class="fa fa-search"></i>
      </div>
      <div class="input-container">
        <input type="text" id="search-box" />
        <div id="stats"></div>
      </div>
      <a href="#" class="close-overlay">
        <i class="fa fa-times"></i>
      </a>
    </div>

    <div class="content">
      <div class="facets">

        <div class="facet">
          <div id="clear-all" class="facet-title"></div>
        </div>

        <div class="facet">
          <div class="facet-title">
            <i class="fa fa-tags" aria-hidden="true"></i> Tags
          </div>
          <div id="tags"></div>
        </div>

        <div class="facet">
          <div class="facet-title">
            <i class="fa fa-folder-o" aria-hidden="true"></i>
            Categories
          </div>
          <div id="categories"></div>
        </div>

        <div class="facet">
          <div class="facet-title">
            <i class="fa fa-eye" aria-hidden="true"></i>
            Views
          </div>
          <div id="ratings"></div>
        </div>

        <div class="facet">
          <div class="facet-title">
            <i class="fa fa-calendar" aria-hidden="true"></i>
            Year
          </div>
          <div id="year"></div>
        </div>
      </div>

      <div class="canvas">
        <div id="hits"></div>

        <div id="pagination"></div>

        <div>Powered by <img src="/images/Algolia_logo_bg-white.svg" height="30" alt="Algolia search"></div>
      </div>
    </div>
  </div>
</div>

<script src="/js/search.js"></script>

      </div>
    </header>
    <nav class="hidden-mobile-up mdl-shadow--2dp">
      <div class="container flexbox--space-between navbar">
        
          <a href="/#home" class="animation--underline-from-center">Home</a>
        
          <a href="/#trending-posts" class="animation--underline-from-center">Trending</a>
        
          <a href="/#about" class="animation--underline-from-center">About</a>
        
          <a href="/blog" class="animation--underline-from-center">Blog</a>
        
      </div>
    </nav>

    <main>
      <!--https://developers.google.com/search/docs/data-types/articles-->
<!--http://schema.org/BlogPosting-->
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": ""
  },
  "headline": "Angular 2 Tutorial: Create a CRUD App with Angular CLI and TypeScript",
  
  "image": {
    "@type": "ImageObject",
    "url": "http://adrianmejia.com/images/angular-2-tutorial-angular-cli-large.png",
    "height": 360,
    "width": 728
  },
  
  "datePublished": "2016-10-01T17:16:03-04:00",
  "dateModified": "2016-10-01T17:16:03-04:00",
  "author": {
    "@type": "Person",
    "name": "Adrian Mejia"
  },
   "publisher": {
    "@type": "Organization",
    "name": "Adrian Mejia",
    "logo": {
      "@type": "ImageObject",
      "url": "http://adrianmejia.com/images/logo.png",
      "width": 347,
      "height": 50
    }
  },
  "description": ""
}
</script>


<article class="container post">

  <section class="hero">
    <div class="muted">
      <a class="category-link" href="/categories/Programming/">Programming</a> > <a class="category-link" href="/categories/Programming/Web-Development/">Web Development</a>
    </div>
    <h1>Angular 2 Tutorial: Create a CRUD App with Angular CLI and TypeScript</h1>
    <div class="muted">
      <span title="Last time this post was updated">
        <i class="fa fa-calendar" aria-hidden="true"></i>
        Last update
        <time datetime="2016-10-01T21:16:03.000Z" itemprop="dateUpdated">October 1st 2016</time>
      </span>

      
        <span class="m-x-2" title="Pageviews">
          <i class="fa fa-eye" aria-hidden="true"></i>
          71.7k
        </span>
      

      <span class="m-x-2" title="Click to go to the comments section">
        <a href="#disqus_thread">
          <i class="fa fa-comment-o" aria-hidden="true"></i>
          <span class="disqus-comment-count" data-disqus-url="http://adrianmejia.com/blog/2016/10/01/Angular-2-Tutorial-Create-a-CRUD-App-with-Angular-CLI-and-TypeScript/">0</span>
        </a>
      </span>

      
        <span>
          <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/angular-2/">angular 2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a><span class="tag-list-count">15</span></li></ul>
        </span>
      
    </div>
  </section>

  <div class="art-container" style="background-color: #DD3229">
    
      <picture>
        <source media="(min-width: 728px)" srcset="/images/angular-2-tutorial-angular-cli-large.png">
        <source srcset="/images/angular-2-tutorial-angular-cli-small.png">
        <img src="/images/angular-2-tutorial-angular-cli-large.png" alt="Angular 2 Tutorial: Create a CRUD App with Angular CLI and TypeScript">
      </picture>
    
  </div>

  <div class="row">
    <section class="col-sm-8 p-x-2">

      <div class="post-content  toc-content ">
        <p>This tutorial gets you off the ground with Angular 2. We are going to use the official CLI (command line) tool to generate boilerplate code.</p>
<h1 id="Prerequisites">Prerequisites<a href="#Prerequisites" class="headerlink" title="Prerequisites"></a></h1><p>This tutorial is targeted to people familiar with JavaScript and HTML/CSS. You also will need:</p>
<ul>
<li>Node.js up and running.</li>
<li>NPM (Node package manager) or Yarn installed.</li>
</ul>
<p>You can verify by typing:
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">node --version</div><div class="line">npm --version</div></pre></td></tr></table></figure></p>
<p>If you get the versions Node 4.x.x and NPM 3.x.x. or higher you are all set. If not you have to get the latest versions.</p>
<p>Let’s move on to Angular. We are going to create a Todo app. We will be able to CRUD (create-read-update-delete) tasks:</p>
<ul>
<li>Live Demo: <a href="http://adrianmejia.com/angular2-todo-app/all">Angular 2 Todo app preview</a></li>
<li>Repository <a href="https://github.com/amejiarosario/angular2-todo-app" target="_blank" rel="external">angular2-todo-app</a></li>
</ul>
<h1 id="Understanding-ng-new">Understanding ng new<a href="#Understanding-ng-new" class="headerlink" title="Understanding ng new"></a></h1><p>Angular CLI is the best way to get us started. We can download the tool and create a new project by running:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># install angular-cli globally</span></div><div class="line">npm i -g angular-cli@1.0.0-beta.17</div><div class="line"></div><div class="line"><span class="comment"># create a new project</span></div><div class="line">ng new Todos2 --style=scss</div></pre></td></tr></table></figure>
<p><strong>Note</strong> The last command takes some minutes. Leave it running and continue reading this tutorial.</p>
<p>The command <code>ng new</code> will do a bunch of things for us:</p>
<ol>
<li>Initialize a git repository</li>
<li>Creates an <code>package.json</code> files with all the Angular dependencies.</li>
<li>Setup TypeScript, Webpack, Tests (Jasmine, Protractor, Karma). Don’t worry if you don’t what they are. We are going to cover them later.</li>
<li>It creates the <code>src</code> folder with the bootstrapping code to load our app into the browser</li>
<li>Finally, it does an <code>npm install</code> to get all the packages into <code>node_modules</code>.</li>
</ol>
<p>Let’s run the app!</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># builds the app and run it on port 9000</span></div><div class="line">ng serve ---port 9000</div></pre></td></tr></table></figure>
<p>Open your browser on <a href="http://localhost:9000/" target="_blank" rel="external">http://localhost:9000/</a> and you should see “Loading…” and then it should switch to “app works!”. Awesome!</p>
<p>Now let’s dive into the <code>src</code> folder and get familiarized with the structure.</p>
<h2 id="package-json">package.json<a href="#package-json" class="headerlink" title="package.json"></a></h2><p>Open the <code>package.json</code> file and take a look at the dependencies. We have all the angular dependencies with the prefix <code>@angular/...</code>. There are other dependencies that are needed for Angular 2 to run, such as RxJS, Zone.js, and some others. We are going to cover them in their own posts.</p>
<h2 id="src-index-html">src/index.html<a href="#src-index-html" class="headerlink" title="src/index.html"></a></h2><p>We are building a SPA (single page application) so everything is going to be loaded into the <code>index.html</code>. Let’s take a look in the <code>src/index.html</code>. It’s pretty standard HTML5 code, except for two elements that are specific for our app:</p>
<ol>
<li><code>&lt;base href=&quot;/&quot;&gt;</code></li>
<li><code>&lt;app-root&gt;Loading...&lt;/app-root&gt;</code></li>
</ol>
<p><code>base href</code> is needed for Angular 2 routing to work properly. We are going to cover Routing in its own chapter.</p>
<p><code>&lt;app-root&gt;</code> this is not a standard HTMl tag. It’s actually defined by our Angular App. It’s an Angular <strong>component</strong>. More on this later.</p>
<h2 id="src-main-ts">src/main.ts<a href="#src-main-ts" class="headerlink" title="src/main.ts"></a></h2><p>This is the part where our application starts bootstrapping (loading). Angular 2 can be used not just in browsers, but also on other platforms such as mobile apps or even desktop apps. So, when we start our application we have to specify what platform we want to target. That’s why we import: <code>platform-browser-dynamic</code>. Notice that we are also importing the <code>AppModule</code> from <code>./app</code>.</p>
<p>The most important line is:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">platformBrowserDynamic().bootstrapModule(AppModule);</div></pre></td></tr></table></figure>
<p>We are loading our <code>AppModule</code> into browser platform. Now, let’s take a look at the <code>./app/index.ts</code> directory.</p>
<h2 id="App-directory">App directory<a href="#App-directory" class="headerlink" title="App directory"></a></h2><p>Every time we import from a directory (e.g. <code>./app/</code>). The <code>index</code> file will be loaded. In our case <code>./app/index.ts</code>. This file only loads up other modules from our app directory such as <code>app.component</code> and <code>app.module</code>. Let’s go to each of them in turn.</p>
<h3 id="app-module-ts">app.module.ts<a href="#app-module-ts" class="headerlink" title="app.module.ts"></a></h3><p>We are going to be using this file often. The most important part is the metadata inside the <code>@NgModule</code>. There we have <code>declarations</code>, <code>imports</code>, <code>providers</code> and <code>bootstrap</code>.</p>
<ul>
<li>Declarations: goes all your components (e.g. AppComponent, TodoComponent)</li>
<li>Imports: routes and modules go here.</li>
<li>Bootstrap: list the component you want to load when the app starts. In our case is <code>AppComponent</code>.</li>
</ul>
<h3 id="app-component-ts">app.component.ts<a href="#app-component-ts" class="headerlink" title="app.component.ts"></a></h3><p>This looks a little similar to the app module, but instead of <code>@NgModule</code> we have <code>@Component</code>. Again, the most important part is the value of the attributes (metadata). We have <code>selector</code>, <code>templateUrl</code> and <code>styleUrls</code>. This what they mean:</p>
<ul>
<li><code>selector</code>: is the name of the component. Remember that we had <code>&lt;app-root&gt;Loading...&lt;/app-root&gt;</code>? This is where is defined.
<code>templateUrl</code>: This is where the HTML code is. <code>&lt;app-root&gt;</code> will be replaced for whatever you have in the template.</li>
<li><code>styleUrls</code>: You can have styles that only applies to this component. This is pretty neat! You can change the styles with confidence knowing that it won’t bleed to other parts of the website.</li>
</ul>
<p>Inside the <code>AppComponent</code> class you can define variables (e.g. <code>title</code>) that are used in the templates (e.g. <code>Angular 2 Tutorial: Create a CRUD App with Angular CLI and TypeScript</code>).</p>
<blockquote>
<p>Let’s change the title from <code>app works!</code> to <code>Todo</code>.</p>
</blockquote>
<p>Test your changes running:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ng serve ---port 9000</div></pre></td></tr></table></figure>
<p>You should see <code>Todo</code>.</p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/879e347fab40d8a42c4d315ba5b04680b6190391">[changes diff]</a></p>
<h1 id="Creating-a-new-Component-with-Angular-CLI">Creating a new Component with Angular CLI<a href="#Creating-a-new-Component-with-Angular-CLI" class="headerlink" title="Creating a new Component with Angular CLI"></a></h1><p>Let’s create a new component to display the tasks. We can easily create by typing:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ng generate component todo</div></pre></td></tr></table></figure>
<p>This command will create a new folder with 4 files:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">create src/app/todo/todo.component.css</div><div class="line">create src/app/todo/todo.component.html</div><div class="line">create src/app/todo/todo.component.spec.ts</div><div class="line">create src/app/todo/todo.component.ts</div></pre></td></tr></table></figure>
<p>Go ahead and inspect each one. It will look similar to the app components.
Actually, let’s add our new component to the App component.</p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/6fb0d24649dcb34541faa36241940f6781216555">[changes diff]</a></p>
<p>Go to <code>src/app/app.component.html</code>, and remove the <code>&lt;h1&gt;Angular 2 Tutorial: Create a CRUD App with Angular CLI and TypeScript&lt;/h1&gt;</code> and replace it with:</p>
<figure class="highlight html"><figcaption><span>src/app/app.component.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">app-todo</span>&gt;</span><span class="tag">&lt;/<span class="name">app-todo</span>&gt;</span></div></pre></td></tr></table></figure>
<p>If you have <code>ng serve</code> running, it should automatically update and show <code>todo works!</code></p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/02f0c1d38d605d4e979537cff6792a5dea7095b4">[changes diff]</a></p>
<h1 id="Todo-Template">Todo Template<a href="#Todo-Template" class="headerlink" title="Todo Template"></a></h1><p>“todo works!” is not useful. Let’s change that by adding some HTML code to represent our todo tasks. Go to the <code>src/app/todo/todo.component.html</code> file and copy-paste this HTML code:</p>
<figure class="highlight html"><figcaption><span>TodoTemplate src/app/todo/todo.component.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"todoapp"</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Todo<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"new-todo"</span> <span class="attr">placeholder</span>=<span class="string">"What needs to be done?"</span> <span class="attr">autofocus</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- This section should be hidden by default and shown when there are todos --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"toggle-all"</span>&gt;</span>Mark all as complete<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"toggle-all"</span> <span class="attr">class</span>=<span class="string">"toggle-all"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"todo-list"</span>&gt;</span></div><div class="line">      <span class="comment">&lt;!-- These are here just to show the structure of the list items --&gt;</span></div><div class="line">      <span class="comment">&lt;!-- List items should get the class `editing` when editing and `completed` when marked as completed --&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"completed"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"view"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"toggle"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">label</span>&gt;</span>Install angular-cli<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"destroy"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"edit"</span> <span class="attr">value</span>=<span class="string">"Create a TodoMVC template"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"view"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"toggle"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">label</span>&gt;</span>Understand Angular2 apps<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"destroy"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"edit"</span> <span class="attr">value</span>=<span class="string">"Rule the web"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="comment">&lt;!-- This footer should hidden by default and shown when there are todos --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- This should be `0 items left` by default --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"todo-count"</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>0<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> item left<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- Remove this if you don't implement routing --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"filters"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"selected"</span> <span class="attr">href</span>=<span class="string">"#/"</span>&gt;</span>All<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#/active"</span>&gt;</span>Active<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#/completed"</span>&gt;</span>Completed<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- Hidden if no completed items are left ↓ --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"clear-completed"</span>&gt;</span>Clear completed<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></div></pre></td></tr></table></figure>
<p>This has the general structure about how we want to represent our tasks. Right now it has hard-coded tasks. We are going to slowly turn it into a dynamic app using Angular 2 data bindings. But before that let’s add some styling so things look better.</p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/2bdc6187d78a1ddc65e3caf6238acb3c94342468">[changes diff]</a></p>
<h1 id="Styling-the-todo-app">Styling the todo app<a href="#Styling-the-todo-app" class="headerlink" title="Styling the todo app"></a></h1><p>We are going to use a community maintained CSS for Todo apps. We can go ahead and download the CSS:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install --save todomvc-app-css</div></pre></td></tr></table></figure>
<p>This will install a CSS file that we can use to style our Todo app and make it look nice. In the next section, we are going to explain how to use it with the <code>angular-cli.json</code>.</p>
<h1 id="Adding-global-styles-to-angular-cli-json">Adding global styles to angular-cli.json<a href="#Adding-global-styles-to-angular-cli-json" class="headerlink" title="Adding global styles to angular-cli.json"></a></h1><p><code>angular-cli.json</code> is a special file that tells the Angular CLI how to build your application. You can define how to name your root folder, tests and much more. What we care right now, is telling the angular CLI to use our new CSS file from the node modules. You can do it by adding the following line into the <code>styles</code> array:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="string">"styles"</span>: [</div><div class="line">  <span class="string">"styles.scss"</span>,</div><div class="line">  <span class="string">"../node_modules/todomvc-app-css/index.css"</span></div><div class="line">],</div></pre></td></tr></table></figure>
<p>If you stop and start <code>ng serve</code>, you will see that now it looks much better.</p>
<img src="/images/angular2-todo-app-preview.png" title="Angular 2 Todo App">
<p>We have the skeleton so far. Now we are going to make it dynamic and allow users to add/remove/update/sort tasks. We are going to do two versions one serverless and another one using a Node.js/Express server. We are going to be using promises all the time, so when we use a real API, the service is the only one that has to change.</p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/7e78e828e5ee7bd3c4c2775ffaeff444edf1e552">[changes diff]</a></p>
<h1 id="Todo-Service">Todo Service<a href="#Todo-Service" class="headerlink" title="Todo Service"></a></h1><p>Let’s first start by creating a service that contains an initial list of tasks that we want to manage. We are going to use a <code>service</code> to manipulate the data. Let’s create the service with the CLI by typing:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ng g service todo/todo</div></pre></td></tr></table></figure>
<p>This will create two files:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">create src/app/todo/todo.service.spec.ts</div><div class="line">create src/app/todo/todo.service.ts</div></pre></td></tr></table></figure>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/1f389a33a1bf59b011a58838fcd87450951f2987">[changes diff]</a></p>
<h1 id="CRUD-Functionality">CRUD Functionality<a href="#CRUD-Functionality" class="headerlink" title="CRUD Functionality"></a></h1><p>For enabling the create-read-update-delete functionality, we are going to be modifying three files:</p>
<ul>
<li>src/app/todo/todo.<strong>service</strong>.ts</li>
<li>src/app/todo/todo.<strong>component</strong>.ts</li>
<li>src/app/todo/todo.component.<strong>html</strong></li>
</ul>
<p>Let’s get started!</p>
<h2 id="READ-Get-all-tasks">READ: Get all tasks<a href="#READ-Get-all-tasks" class="headerlink" title="READ: Get all tasks"></a></h2><p>Let’s modify the <code>todo.service</code> to be able to get tasks:</p>
<figure class="highlight js"><figcaption><span>TodoService src/app/todo/todo.service.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Injectable &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line"></div><div class="line marked"><span class="keyword">let</span> todos = [</div><div class="line marked">  &#123; <span class="attr">title</span>: <span class="string">'Install Angular CLI'</span>, <span class="attr">isDone</span>: <span class="literal">true</span> &#125;,</div><div class="line marked">  &#123; <span class="attr">title</span>: <span class="string">'Style app'</span>, <span class="attr">isDone</span>: <span class="literal">true</span> &#125;,</div><div class="line marked">  &#123; <span class="attr">title</span>: <span class="string">'Finish service functionality'</span>, <span class="attr">isDone</span>: <span class="literal">false</span> &#125;,</div><div class="line marked">  &#123; <span class="attr">title</span>: <span class="string">'Setup API'</span>, <span class="attr">isDone</span>: <span class="literal">false</span> &#125;,</div><div class="line marked">];</div><div class="line"></div><div class="line">@Injectable()</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">TodoService</span> </span>&#123;</div><div class="line"></div><div class="line">  <span class="keyword">constructor</span>() &#123; &#125;</div><div class="line"></div><div class="line marked">  get()&#123;</div><div class="line marked">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> resolve(todos));</div><div class="line marked">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Now we need to change our todo component to use the service that we created.</p>
<figure class="highlight js"><figcaption><span>TodoComponent src/app/todo/todo.component.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Component, OnInit &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line"></div><div class="line marked"><span class="keyword">import</span> &#123; TodoService &#125; <span class="keyword">from</span> <span class="string">'./todo.service'</span>;</div><div class="line"></div><div class="line">@Component(&#123;</div><div class="line">  <span class="attr">selector</span>: <span class="string">'app-todo'</span>,</div><div class="line">  <span class="attr">templateUrl</span>: <span class="string">'./todo.component.html'</span>,</div><div class="line marked">  <span class="attr">styleUrls</span>: [<span class="string">'./todo.component.scss'</span>],</div><div class="line marked">  <span class="attr">providers</span>: [TodoService]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">TodoComponent</span> <span class="title">implements</span> <span class="title">OnInit</span> </span>&#123;</div><div class="line marked">  private todos;</div><div class="line marked">  private activeTasks;</div><div class="line marked"></div><div class="line marked">  <span class="keyword">constructor</span>(private todoService: TodoService) &#123; &#125;</div><div class="line marked"></div><div class="line marked">  getTodos()&#123;</div><div class="line marked">    <span class="keyword">return</span> <span class="keyword">this</span>.todoService.get().then(<span class="function"><span class="params">todos</span> =&gt;</span> &#123;</div><div class="line marked">      <span class="keyword">this</span>.todos = todos;</div><div class="line marked">      <span class="keyword">this</span>.activeTasks = <span class="keyword">this</span>.todos.filter(<span class="function"><span class="params">todo</span> =&gt;</span> todo.isDone).length;</div><div class="line marked">    &#125;);</div><div class="line marked">  &#125;</div><div class="line"></div><div class="line">  ngOnInit() &#123;</div><div class="line marked">    <span class="keyword">this</span>.getTodos();</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>The first change is importing our <code>TodoService</code> and adding it to the providers. Then we use the constructor of the component to load the <code>TodoService</code>. While we inject the service we can hold a private instance of it in the variable <code>todoService</code>. Finally, we use it in the <code>getTodos</code> method. This will make a variable <code>todos</code> available in the template where we can render the tasks.</p>
<p>Let’s change the template so we can render the data from the service. Go to the <code>todo.component.html</code> and change what is inside the <code>&lt;li&gt;&lt;/li&gt;</code> for this one:</p>
<figure class="highlight html"><figcaption><span>TodoTemplate src/app/todo/todo.component.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">li</span> *<span class="attr">ngFor</span>=<span class="string">"let todo of todos"</span> [<span class="attr">ngClass</span>]=<span class="string">"&#123;completed: todo.isDone&#125;"</span> &gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"view"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"toggle"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> [<span class="attr">checked</span>]=<span class="string">"todo.isDone"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123;todo.title&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"destroy"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"edit"</span> <span class="attr">value</span>=<span class="string">"&#123;&#123;todo.title&#125;&#125;"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Also change the 32 in the template from:</p>
<figure class="highlight html"><figcaption><span>Line 32 (before) src/app/todo/todo.component.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"todo-count"</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>0<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> item left<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure>
<p>replace it with:</p>
<figure class="highlight html"><figcaption><span>Line 32 (after) src/app/todo/todo.component.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"todo-count"</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123;activeTasks&#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> item left<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure>
<p>When your browser updates you should have something like this:</p>
<img src="/images/angular2-todo-app-service.png" title="Todo app rendering tasks from service">
<p>Now, let’s go over what we just did. We can see that we added new data-binding into the template:</p>
<ul>
<li><code>*ngFor</code>: iterates through the <code>todos</code> array that we defined in the component and assigned in the <code>let todo</code> part.</li>
<li><code>[ngClass]</code>: applies a class when the expression evaluates to true. In our case, it uses class <code>completed</code> when <code>isDone</code> is true.</li>
<li><code>[checked]</code>: applies the <code>checked</code> attribute when the expression evaluates to true (<code>todo.isDone</code>).</li>
<li><code></code>: render the todo title. The same happened with <code></code>.</li>
</ul>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/9b13f6b2f9096fabe15eef5f282be03242a32bc1">[changes diff]</a></p>
<h2 id="CREATE-using-input-form">CREATE: using input form<a href="#CREATE-using-input-form" class="headerlink" title="CREATE: using input form"></a></h2><p>Let’s start with the template this time. We have an input element for creating new tasks. Let’s listen to changes in the input form and when we click enter it creates the tasks.</p>
<figure class="highlight html"><figcaption><span>Line 5 src/app/todo/todo.component.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"new-todo"</span></span></div><div class="line">       <span class="attr">placeholder</span>=<span class="string">"What needs to be done?"</span></div><div class="line">       [(<span class="attr">ngModel</span>)]=<span class="string">"newTodo"</span></div><div class="line">       (<span class="attr">keyup.enter</span>)=<span class="string">"addTodo()"</span></div><div class="line">       <span class="attr">autofocus</span>&gt;</div></pre></td></tr></table></figure>
<p>Notice that we are using a new variable called <code>newTodo</code> and method called <code>addTodo()</code>. Let’s go to the controller and give it some functionality:</p>
<figure class="highlight javascript"><figcaption><span>src/app/todo/todo.component.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">private newTodo;</div><div class="line"></div><div class="line">addTodo()&#123;</div><div class="line">  <span class="keyword">this</span>.todoService.add(&#123; <span class="attr">title</span>: <span class="keyword">this</span>.newTodo, <span class="attr">isDone</span>: <span class="literal">false</span> &#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.getTodos();</div><div class="line">  &#125;).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">this</span>.newTodo = <span class="string">''</span>; <span class="comment">// clear input form value</span></div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>First, we created a private variable that we are going to use to get values from the input form. Then we created a new <code>todo</code> using the todo service method <code>add</code>. It doesn’t exist yet, so we are going to create it next:</p>
<figure class="highlight javascript"><figcaption><span>src/app/todo/todo.service.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">add(data) &#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</div><div class="line">    todos.push(data);</div><div class="line">    resolve(data);</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>This adds the new element into the <code>todos</code> array and resolve the promise. That’s all. Go ahead a test it out creating a new todo element.</p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/049b52b4d823c62f922e5d6e5f386fa96cc6b0fe">[changes diff]</a></p>
<h2 id="UPDATE-on-double-click">UPDATE: on double click<a href="#UPDATE-on-double-click" class="headerlink" title="UPDATE: on double click"></a></h2><p>Let’s add an event listener to double click on each todo. That way, we can change the content. Editing is a tricky since we need to display an input form. Then when the user clicks enter it should update the value. Finally, it should hide the input and display the label with the updated value. Let’s do that by keeping a temp variable called <code>editing</code> which could be true or false.</p>
<figure class="highlight html"><figcaption><span>src/app/todo/todo.component.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">li</span> *<span class="attr">ngFor</span>=<span class="string">"let todo of todos"</span> [<span class="attr">ngClass</span>]=<span class="string">"&#123;completed: todo.isDone, editing: todo.editing&#125;"</span> &gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"view"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"toggle"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> [<span class="attr">checked</span>]=<span class="string">"todo.isDone"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span> (<span class="attr">dblclick</span>)=<span class="string">"todo.editing = true"</span>&gt;</span>&#123;&#123;todo.title&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"destroy"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"edit"</span></span></div><div class="line">         #<span class="attr">updatedTodo</span></div><div class="line">         [<span class="attr">value</span>]=<span class="string">"todo.title"</span></div><div class="line">         (<span class="attr">blur</span>)=<span class="string">"updateTodo(todo, updatedTodo.value)"</span></div><div class="line">         (<span class="attr">keyup.escape</span>)=<span class="string">"todo.editing = false"</span></div><div class="line">         (<span class="attr">keyup.enter</span>)=<span class="string">"updateTodo(todo, updatedTodo.value)"</span>&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Notice that we are adding a local variable in the template <code>#updateTodo</code>. Then we use it to get the value like <code>updateTodo.value</code> and pass it to a function.
We want to update the variables on <code>blur</code> (when you click somewhere else) or on <code>enter</code>. Let’s add the function that actually updates the value in the component.</p>
<p>Also, notice that we have a new CSS class applied to the element called <code>editing</code>. This is going to take care through CSS to hide and show the input element when needed.</p>
<figure class="highlight javascript"><figcaption><span>src/app/todo/todo.component.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">updateTodo(todo, newValue) &#123;</div><div class="line">  todo.title = newValue;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.todoService.put(todo).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    todo.editing = <span class="literal">false</span>;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.getTodos();</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>We update the new todo’s title and after the service has process the update we set editing to false. Finally, we reload all the tasks again. Let’s add the <code>put</code> action on the service. But we have an issue. We actually need a unique <code>id</code> to identify each task. When we hook up the service with a real backend we will get that from the database. Let’s add it manually for now. We will call it <code>_id</code> since that’s how MongoDB call it and will be easier to replace later.</p>
<figure class="highlight javascript"><figcaption><span>src/app/todo/todo.service.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">put(data) &#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">let</span> index = todos.findIndex(<span class="function"><span class="params">todo</span> =&gt;</span> todo._id === data._id);</div><div class="line">    todos[index].title = data.title;</div><div class="line">    resolve(data);</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Here we look for the todo with the matching <code>_id</code> and update the title.</p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/2664150bdad13f2c5666b0a5031703383446a041">[changes diff]</a></p>
<h2 id="DELETE-clicking-X">DELETE: clicking X<a href="#DELETE-clicking-X" class="headerlink" title="DELETE: clicking X"></a></h2><p>This is like the other actions. We add an event listenter on the destroy button:</p>
<figure class="highlight html"><figcaption><span>src/app/todo/todo.component.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"destroy"</span> (<span class="attr">click</span>)=<span class="string">"destroyTodo(todo)"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Then we add the funtion in the component:</p>
<figure class="highlight javascript"><figcaption><span>src/app/todo/todo.component.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">destroyTodo(todo)&#123;</div><div class="line">  <span class="keyword">this</span>.todoService.delete(todo._id).then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.getTodos();</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>and finally, we add the method in the servie:</p>
<figure class="highlight javascript"><figcaption><span>src/app/todo/todo.service.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">delete</span>(id) &#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">let</span> index = todos.findIndex(<span class="function"><span class="params">todo</span> =&gt;</span> todo._id === id);</div><div class="line">    todos.splice(index, <span class="number">1</span>);</div><div class="line">    resolve(<span class="literal">true</span>);</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Now test it out in the browser!</p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/161be3b1a0e59ea41442d7be99d61fb9bb81b8b5">[changes diff]</a></p>
<h1 id="Routing-and-Navigation">Routing and Navigation<a href="#Routing-and-Navigation" class="headerlink" title="Routing and Navigation"></a></h1><p>It’s time to activate the routing. When we click on the <code>active</code> button we want to show only the ones that are active. Similarly, we want to filter by <code>completed</code>. Additionally, we want to the filters to change the route <code>/active</code> or <code>/completed</code> URLs.</p>
<p>In <code>AppComponent</code>, we need to add the <code>router</code> library and define the routes as follows:</p>
<figure class="highlight js"><figcaption><span>AppModule src/app/app.module.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; BrowserModule &#125; <span class="keyword">from</span> <span class="string">'@angular/platform-browser'</span>;</div><div class="line"><span class="keyword">import</span> &#123; NgModule &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line"><span class="keyword">import</span> &#123; FormsModule &#125; <span class="keyword">from</span> <span class="string">'@angular/forms'</span>;</div><div class="line"><span class="keyword">import</span> &#123; HttpModule &#125; <span class="keyword">from</span> <span class="string">'@angular/http'</span>;</div><div class="line marked"><span class="keyword">import</span> &#123; Routes, RouterModule &#125; <span class="keyword">from</span> <span class="string">'@angular/router'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> &#123; AppComponent &#125; <span class="keyword">from</span> <span class="string">'./app.component'</span>;</div><div class="line"><span class="keyword">import</span> &#123; TodoComponent &#125; <span class="keyword">from</span> <span class="string">'./todo/todo.component'</span>;</div><div class="line"></div><div class="line marked"><span class="keyword">const</span> routes: Routes = [</div><div class="line marked">  &#123; <span class="attr">path</span>: <span class="string">':status'</span>, <span class="attr">component</span>: TodoComponent &#125;,</div><div class="line marked">  &#123; <span class="attr">path</span>: <span class="string">'**'</span>, <span class="attr">redirectTo</span>: <span class="string">'/all'</span> &#125;</div><div class="line marked">];</div><div class="line"></div><div class="line">@NgModule(&#123;</div><div class="line">  <span class="attr">declarations</span>: [</div><div class="line">    AppComponent,</div><div class="line">    TodoComponent</div><div class="line">  ],</div><div class="line">  <span class="attr">imports</span>: [</div><div class="line">    BrowserModule,</div><div class="line">    FormsModule,</div><div class="line">    HttpModule,</div><div class="line marked">    RouterModule.forRoot(routes)</div><div class="line">  ],</div><div class="line">  <span class="attr">providers</span>: [],</div><div class="line">  <span class="attr">bootstrap</span>: [AppComponent]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">AppModule</span> </span>&#123; &#125;</div></pre></td></tr></table></figure>
<p>First, we import the routing library. Then we define the routes that we need. We could have said <code>path: &#39;active&#39;, component: TodoComponent</code> and the repeat the same for <code>completed</code>. But instead, we define a parameter called <code>:status</code> that could take any value (<code>all</code>, <code>completed</code>, <code>active</code>). Any other value path we are going to redirect it to <code>/all</code>. That’s what the <code>**</code> means.</p>
<p>Finally, we add it to the imports. So the app module uses it. Since the AppComponent is using routes. Now we need to define the <code>&lt;router-outlet&gt;</code>. That’s the place there the routes are going to render the component based on the path (in our case <code>TodoComponent</code>).</p>
<p>Let’s go to <code>app/app.component.html</code> and replace <code>&lt;app-todo&gt;&lt;/app-todo&gt;</code> for <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>:</p>
<figure class="highlight html"><figcaption><span>app/app.component.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">router-outlet</span>&gt;</span><span class="tag">&lt;/<span class="name">router-outlet</span>&gt;</span></div></pre></td></tr></table></figure>
<p>Test the app in the browser and verify that now the URL is by default <code>http://localhost:9000/all</code>.</p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/4a7f71516264e21b5b03e281d68b508492bbcc19">[changes diff]</a></p>
<h2 id="Using-routerLink-and-ActivatedRoute">Using routerLink and ActivatedRoute<a href="#Using-routerLink-and-ActivatedRoute" class="headerlink" title="Using routerLink and ActivatedRoute"></a></h2><p><code>routerLink</code> is the replacement of <code>href</code> for our dynamic routes. We have set it up to be <code>/all</code>, <code>/complete</code> and <code>/active</code>. Notice that the expression is an array. You can pass each part of the URL as an element of the array.</p>
<figure class="highlight html"><figcaption><span>src/app/todo/todo.component.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"filters"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line marked">    <span class="tag">&lt;<span class="name">a</span> [<span class="attr">routerLink</span>]=<span class="string">"['/all']"</span> [<span class="attr">class.selected</span>]=<span class="string">"path === 'all'"</span>&gt;</span>All<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line marked">    <span class="tag">&lt;<span class="name">a</span> [<span class="attr">routerLink</span>]=<span class="string">"['/active']"</span> [<span class="attr">class.selected</span>]=<span class="string">"path === 'active'"</span>&gt;</span>Active<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line marked">    <span class="tag">&lt;<span class="name">a</span> [<span class="attr">routerLink</span>]=<span class="string">"['/completed']"</span> [<span class="attr">class.selected</span>]=<span class="string">"path === 'completed'"</span>&gt;</span>Completed<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<p>The second part we are doing is applying the <code>selected</code> class if the path matches the button. Yet, we haven’t populate the the <code>path</code> variable yet. So let’s do that:</p>
<figure class="highlight js"><figcaption><span>TodoComponent src/app/todo/todo.component.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; Component, OnInit &#125; <span class="keyword">from</span> <span class="string">'@angular/core'</span>;</div><div class="line marked"><span class="keyword">import</span> &#123; ActivatedRoute &#125; <span class="keyword">from</span> <span class="string">'@angular/router'</span>;</div><div class="line"></div><div class="line"><span class="keyword">import</span> &#123; TodoService &#125; <span class="keyword">from</span> <span class="string">'./todo.service'</span>;</div><div class="line"></div><div class="line">@Component(&#123;</div><div class="line">  <span class="attr">selector</span>: <span class="string">'app-todo'</span>,</div><div class="line">  <span class="attr">templateUrl</span>: <span class="string">'./todo.component.html'</span>,</div><div class="line">  <span class="attr">styleUrls</span>: [<span class="string">'./todo.component.scss'</span>],</div><div class="line">  <span class="attr">providers</span>: [TodoService]</div><div class="line">&#125;)</div><div class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">TodoComponent</span> <span class="title">implements</span> <span class="title">OnInit</span> </span>&#123;</div><div class="line">  private todos;</div><div class="line">  private activeTasks;</div><div class="line">  private newTodo;</div><div class="line marked">  private path;</div><div class="line"></div><div class="line marked">  <span class="keyword">constructor</span>(private todoService: TodoService, private route: ActivatedRoute) &#123; &#125;</div><div class="line"></div><div class="line">  ngOnInit() &#123;</div><div class="line marked">    <span class="keyword">this</span>.route.params.subscribe(<span class="function"><span class="params">params</span> =&gt;</span> &#123;</div><div class="line marked">      <span class="keyword">this</span>.path = params[<span class="string">'status'</span>];</div><div class="line marked">      <span class="keyword">this</span>.getTodos();</div><div class="line marked">    &#125;);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/* ... */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>We added <code>ActivatedRoute</code> as a dependency and in the constructor. This gives us access to the all the <code>route</code> params such as <code>path</code>. Notice that we are using it in the <code>NgOnInit</code> and set the path accordantly.</p>
<p>Go to the browser and check out that the URL matches the active button. But, it doesn’t filter anything yet. Let’s fix that.</p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/bd3cc91ae8aed975c7d6e64ad76c53e985726364">[changes diff]</a></p>
<h2 id="Filtering-data-based-on-route">Filtering data based on route<a href="#Filtering-data-based-on-route" class="headerlink" title="Filtering data based on route"></a></h2><p>To filter todos by active and completed, we need to pass a parameter to the <code>todoService.get</code>.</p>
<figure class="highlight js"><figcaption><span>TodoComponent src/app/todo/todo.component.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">ngOnInit() &#123;</div><div class="line">  <span class="keyword">this</span>.route.params.subscribe(<span class="function"><span class="params">params</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">this</span>.path = params[<span class="string">'status'</span>];</div><div class="line marked">    <span class="keyword">this</span>.getTodos(<span class="keyword">this</span>.path);</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line marked">getTodos(query = <span class="string">''</span>)&#123;</div><div class="line marked">  <span class="keyword">return</span> <span class="keyword">this</span>.todoService.get(query).then(<span class="function"><span class="params">todos</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">this</span>.todos = todos;</div><div class="line">    <span class="keyword">this</span>.activeTasks = <span class="keyword">this</span>.todos.filter(<span class="function"><span class="params">todo</span> =&gt;</span> todo.isDone).length;</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>We added a new parameter <code>query</code>, which takes the <code>path</code> (active, completed or all). Then, we pass that parameter to the service. Let’s handle that in the service:</p>
<figure class="highlight js"><figcaption><span>TodoService src/app/todo/todo.service.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line marked">get(query = <span class="string">''</span>)&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">var</span> data;</div><div class="line"></div><div class="line marked">    <span class="keyword">if</span>(query === <span class="string">'completed'</span> || query === <span class="string">'active'</span>)&#123;</div><div class="line marked">      <span class="keyword">var</span> isCompleted = query === <span class="string">'completed'</span>;</div><div class="line marked">      data = todos.filter(<span class="function"><span class="params">todo</span> =&gt;</span> todo.isDone === isCompleted);</div><div class="line marked">    &#125; <span class="keyword">else</span> &#123;</div><div class="line marked">      data = todos;</div><div class="line marked">    &#125;</div><div class="line"></div><div class="line">    resolve(data);</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>So we added a filter by <code>isDone</code> when we pass either <code>completed</code> or <code>active</code>. If the query is anything else, we return all the todos tasks. That’s pretty much it, test it out!</p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/fd0a228c4768050b4dcae174f034ffa09931324d">[changes diff]</a></p>
<h1 id="Clearing-out-completed-tasks">Clearing out completed tasks<a href="#Clearing-out-completed-tasks" class="headerlink" title="Clearing out completed tasks"></a></h1><p>One last UI functionality, clearing out completed tasks button. Let’s first add the click event on the template:</p>
<figure class="highlight html"><figcaption><span>src/app/todo/todo.component.html</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"clear-completed"</span> (<span class="attr">click</span>)=<span class="string">"clearCompleted()"</span>&gt;</span>Clear completed<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
<p>We referenced a new function <code>clearCompleted</code> that we haven’t create yet. Let’s create it in the TodoComponent:</p>
<figure class="highlight js"><figcaption><span>TodoComponent src/app/todo/todo.component.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">clearCompleted() &#123;</div><div class="line marked">  <span class="keyword">this</span>.todoService.deleteCompleted().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.getTodos();</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>In the same way we have to create <code>deleteCompleted</code> in the service:</p>
<figure class="highlight js"><figcaption><span>TodoService src/app/todo/todo.service.ts</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">deleteCompleted() &#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</div><div class="line marked">    todos = todos.filter(<span class="function"><span class="params">todo</span> =&gt;</span> !todo.isDone);</div><div class="line">    resolve(todos);</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>We use the filter to get the active tasks and replace the <code>todos</code> array with it.</p>
<p>That’s it we have completed all the functionality.</p>
<p><a target="_blank" href="https://github.com/amejiarosario/angular2-todo-app/commit/333c0127f1fcc7949e0b0138933dc6aaf7044fe3">[changes diff]</a></p>
<h1 id="Deploying-the-app">Deploying the app<a href="#Deploying-the-app" class="headerlink" title="Deploying the app"></a></h1><p>Angular CLI comes with a convenient command to deploy your app to Github pages.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># build assets + deploy</span></div><div class="line">ng github-pages:deploy</div></pre></td></tr></table></figure>
<p>If you want to build your app for production you can do:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ng build --prod</div></pre></td></tr></table></figure>
<p>That’s all folks!</p>

      </div>

      

        <!-- Related -->
        <footer>
          <div class="m-y-4">
            
          </div>

        <!-- subscribe -->
        <div class="m-y-4">
          <!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="//adrianmejia.us2.list-manage.com/subscribe/post?u=2294bb28c5931a6f2338d2474&amp;id=52678e825b" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" novalidate>
    <div id="mc_embed_signup_scroll">
	<label for="mce-EMAIL">Subscribe &amp; stay up to date!</label>
	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_2294bb28c5931a6f2338d2474_52678e825b" tabindex="-1" value=""></div>
    <div class="clear">&nbsp;<input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
    </div>
</form>
</div>
<!--End mc_embed_signup-->

<script type="text/javascript">
  var form = document.getElementById('mc-embedded-subscribe-form');
  form.addEventListener('submit', function(event) {
    event.preventDefault();
    ga('send', 'event', 'newsletter', 'signup', 'page', {
      hitCallback: createFunctionWithTimeout(function() {
        form.submit();
      })
    });
  });
</script>

        </div>

        <!-- Adrian Mejia Bio -->
        <section class="bio-box">
  <img class="m-a-1 not-scaled" src="/images/adrianmejia-small.png" alt="Adrian Mejia">
  <p class="p-x-1 muted">Adrian Mejia is a full-stack web developer located in Boston. Currently working at Cisco as a Software Engineer. Adrian enjoys writing posts about programming and technology. Also, he likes to travel ✈️ and biking 🚴‍. Find our more <a href="/#about">here</a>.</p>
</section>


          <!-- 726x88 -->
          <!---->
          <!--<script data-cfasync="false" type="text/javascript" src="(DISABLED)//www.eboundservices.com/ads/728x90_non_responsive.js"></script>-->
<!--           <div class="hidden-mobile-down">
            <script data-cfasync="false" type="text/javascript" src="(DISABLED)//www.eboundservices.com/ads/728x90_responsive.js"></script>
          </div> -->
          <!--<script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/336x280_responsive.js"></script>-->
          <script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/dfp/336x280_responsive.js"></script>


        </footer>

      <!-- if(page.layout !== 'snippet') -->
    </section>

    <!-- Asides (Ads, TOC, ...) -->
    <aside class="col-sm-4 p-x-2 col-xs-order-1">
      <section>

        <!-- 300x250 -->
        <!---->
        <!--<script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/300x250_non_responsive.js"></script>-->
        <!--<div class="hidden-mobile-down">-->
          <!--<script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/300x250_responsive.js"></script>-->
        <!--</div>-->

        <!--<div class="hidden-mobile-up">-->
        <!--<script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/336x280_responsive.js"></script>-->
        <!--</div>-->
        <script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/dfp/336x280_responsive.js"></script>

      </section>

      <section class="sticky-element--start">
        <div class="muted">
          <div class="p-y-1">
            <a href="#" class=""><span id="back-to-top" title="Go back to the top of this page">
              <i class="fa fa-arrow-up"></i> Top
            </span></a>

            <a href="#" class="p-x-3" title="Improve this post" onclick="track('https://github.com/amejiarosario/amejiarosario.github.io/edit/source/source/_posts/2016-10-01-Angular-2-Tutorial-Create-a-CRUD-App-with-Angular-CLI-and-TypeScript.md')">
              <i class="fa fa-pencil"></i> Edit this post
            </a>
            <!-- <a href="#" title="Share this post"><i class="fa fa-share"></i> Share</a> -->
            <!--<div class="p-y-1">-->
              <!---->
              <!---->
              <!---->
              <!---->
            <!--</div>-->
          </div>

          
            <h3 class="toc-title">Contents</h3>
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Prerequisites"><span class="toc-number">1.</span> <span class="toc-text">Prerequisites</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Understanding-ng-new"><span class="toc-number">2.</span> <span class="toc-text">Understanding ng new</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#package-json"><span class="toc-number">2.1.</span> <span class="toc-text">package.json</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#src-index-html"><span class="toc-number">2.2.</span> <span class="toc-text">src/index.html</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#src-main-ts"><span class="toc-number">2.3.</span> <span class="toc-text">src/main.ts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#App-directory"><span class="toc-number">2.4.</span> <span class="toc-text">App directory</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#app-module-ts"><span class="toc-number">2.4.1.</span> <span class="toc-text">app.module.ts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#app-component-ts"><span class="toc-number">2.4.2.</span> <span class="toc-text">app.component.ts</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Creating-a-new-Component-with-Angular-CLI"><span class="toc-number">3.</span> <span class="toc-text">Creating a new Component with Angular CLI</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Todo-Template"><span class="toc-number">4.</span> <span class="toc-text">Todo Template</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Styling-the-todo-app"><span class="toc-number">5.</span> <span class="toc-text">Styling the todo app</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Adding-global-styles-to-angular-cli-json"><span class="toc-number">6.</span> <span class="toc-text">Adding global styles to angular-cli.json</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Todo-Service"><span class="toc-number">7.</span> <span class="toc-text">Todo Service</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CRUD-Functionality"><span class="toc-number">8.</span> <span class="toc-text">CRUD Functionality</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#READ-Get-all-tasks"><span class="toc-number">8.1.</span> <span class="toc-text">READ: Get all tasks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CREATE-using-input-form"><span class="toc-number">8.2.</span> <span class="toc-text">CREATE: using input form</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UPDATE-on-double-click"><span class="toc-number">8.3.</span> <span class="toc-text">UPDATE: on double click</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DELETE-clicking-X"><span class="toc-number">8.4.</span> <span class="toc-text">DELETE: clicking X</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Routing-and-Navigation"><span class="toc-number">9.</span> <span class="toc-text">Routing and Navigation</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-routerLink-and-ActivatedRoute"><span class="toc-number">9.1.</span> <span class="toc-text">Using routerLink and ActivatedRoute</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filtering-data-based-on-route"><span class="toc-number">9.2.</span> <span class="toc-text">Filtering data based on route</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Clearing-out-completed-tasks"><span class="toc-number">10.</span> <span class="toc-text">Clearing out completed tasks</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Deploying-the-app"><span class="toc-number">11.</span> <span class="toc-text">Deploying the app</span></a></li></ol>

            <!-- 300x600 -->
            <!---->
            <!--<script data-cfasync="false" type="text/javascript" src="(DISABLED)//www.eboundservices.com/ads/300x600_non_responsive.js"></script>-->
            <div class="hidden-mobile-down">
              <script data-cfasync="false" type="text/javascript" src="//www.eboundservices.com/ads/dfp/160x600_responsive.js"></script>
            </div>
          
        </div>
      </section>
    </aside>
  </div>

  <!-- Next and previous posts -->
  
    <div class="article-nav m-y-4">
      
        <a href="/blog/2016/10/19/Overview-of-JavaScript-ES6-features-a-k-a-ECMAScript-6-and-ES2015/" class="article-nav-newer" class="article-nav-link-wrap">
          <strong class="article-nav-caption"><i class="fa fa-chevron-left"></i> newer</strong>
          <div class="article-nav-title">
            
              Overview of JavaScript ES6 features (a.k.a ECMAScript 6 and ES2015+)
            
          </div>
        </a>
      
      
        <a href="/blog/2016/08/24/Building-a-Node-js-static-file-server-files-over-HTTP-using-ES6/" class="article-nav-older" class="article-nav-link-wrap">
          <strong class="article-nav-caption">older <i class="fa fa-chevron-right"></i></strong>
          <div class="article-nav-title">Building a Node.js static file server (files over HTTP) using ES6+</div>
        </a>
      
    </div>
  

  <!-- comments -->
  <footer class="row sticky-element--end">
    <div class="col-xs-12">
      <section>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://adrianmejia.com/blog/2016/10/01/Angular-2-Tutorial-Create-a-CRUD-App-with-Angular-CLI-and-TypeScript/';
      this.page.identifier = 'http://adrianmejia.com/blog/2016/10/01/Angular-2-Tutorial-Create-a-CRUD-App-with-Angular-CLI-and-TypeScript/';
    };
    (function() {
      var d = document, s = d.createElement('script');
      s.src = '//adrianmejia.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</section>

    </div>
  </footer>
</article>

    </main>

    <footer class="page-footer">
      <div class="container">
        <div class="p-y-2">
          &copy; 2018 <a href="http://adrianmejia.com">Adrian Mejia</a>
          <span class="muted m-x-4" title="Wed Jun 13 2018 20:15:15 GMT-0400 (EDT)">
            v.paae1f
          </span>
        </div>
      </div>
    </footer>

    <!-- Scripts -->
    <script src="/js/main.js"></script>    <script id="dsq-count-scr" src="//adrianmejia.disqus.com/count.js" async></script>
    <!-- Algolia Search -->
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/instantsearch.js/1/instantsearch.min.css" />
    <script src="//cdn.jsdelivr.net/instantsearch.js/1/instantsearch.min.js"></script>
    <link rel="stylesheet" href="/stylesheets/55_search.css">


    <!-- social scripts -->
    

    
      <script type="text/javascript">
        var addthis_config = {
          data_ga_property: 'UA-24183929-4',
          data_ga_social : true
        };
      </script>
      <script async defer type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-579cb31b46e2f7e6"></script>
      <script src="/js/posts.js"></script>    
  </body>
</html>
